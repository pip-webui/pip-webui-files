!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).files=t()}}(function(){return function t(e,i,o){function n(r,s){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(l)return l(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var a=i[r]={exports:{}};e[r][0].call(a.exports,function(t){var i=e[r][1][t];return n(i?i:t)},a,a.exports,t,e,i,o)}return i[r].exports}for(var l="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t}();i.ButtonsUpload=o},{}],2:[function(t,e,i){!function(){"use strict";var t=angular.module("pipFiles.Translate",[]);t.filter("translate",["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}])}()},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){"ngInject";var e=this;this.type=t.type||"file",this.name=t.name,this.buttons=t.buttons||null,this.error=t.error||null,t.$watch("error",function(t){e.error=t})}return t.$inject=["$scope"],t}();i.FileFailController=o},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("./select/FileSelectController"),n=t("./upload/FileUploadController"),l=t("./success/FileSuccessController"),r=t("./fail/FileFailController"),s=t("./service/FileUploadService"),c=t("./start/FileStartController");!function(){function t(t){"ngInject";return{restrict:"A",link:function(e,i,o){var n=t(o.fileModel),l=n.assign;i.bind("change",function(){e.$apply(function(){l(e,i[0].files[0])})})}}}function e(){return{restrict:"E",replace:!0,scope:{localFile:"="},controller:o.FileSelectController,controllerAs:"vm",templateUrl:"select/FileSelect.html"}}function i(){return{restrict:"E",replace:!0,controller:n.FileUploadController,controllerAs:"vm",scope:{buttonFunction:"=?pipButtonFunctions",buttons:"=?pipButtons",error:"=?pipError",name:"=pipName",state:"=pipState",type:"=?pipType",progress:"=pipProgress"},templateUrl:"upload/FileUpload.html"}}function p(){return{restrict:"E",replace:!0,controller:l.FileSuccessController,controllerAs:"vm",scope:{buttons:"=?pipButtons",name:"=pipName",type:"=?pipType"},templateUrl:"success/FileSuccess.html"}}function a(){return{restrict:"E",replace:!0,controller:r.FileFailController,controllerAs:"vm",scope:{buttons:"=?pipButtons",name:"=pipName",type:"=?pipType",error:"=pipError"},templateUrl:"fail/FileFail.html"}}function u(){return{restrict:"E",replace:!0,controller:c.FileStartController,controllerAs:"vm",scope:{buttons:"=?pipButtons",name:"=pipName",type:"=?pipType",progress:"=pipProgress"},templateUrl:"start/FileStart.html"}}t.$inject=["$parse"],angular.module("pipFiles",[]).directive("fileModel",t).directive("pipFileSelect",e).directive("pipFileUpload",i).directive("pipSuccesUpload",p).directive("pipFailUpload",a).directive("pipStartUpload",u).service("pipFileUpload",s.FileUploadService)}()},{"./fail/FileFailController":3,"./select/FileSelectController":5,"./service/FileUploadService":6,"./start/FileStartController":7,"./success/FileSuccessController":8,"./upload/FileUploadController":9}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){"ngInject";this.localFile=t.localFile,t.$watch("vm.localFile",function(e){t.localFile=e})}return t.$inject=["$scope"],t.prototype.onUploadButtonClick=function(){$("#inp_file").click()},t.prototype.onDeleteButtonClick=function(){this.localFile=null;var t=document.getElementById("inp_form");t.reset()},t}();i.FileSelectController=o},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t}();o.All=["start","upload","fail"],o.Start="start",o.Upload="upload",o.Fail="fail",i.FileUploadState=o;var n=function(){function t(t){"ngInject";this.error=null,this._http=t}return t.$inject=["$http"],t.prototype.upload=function(t,e,i){var n=this,l=new FormData;l.append("file",e),this.progress=0,this.state=o.Start,this._http.post(t,l,{uploadEventHandlers:{progress:function(t){t.lengthComputable&&(n.progress=t.loaded/t.total*100)}},headers:{"Content-Type":void 0}}).success(function(t){n.state=o.Upload,i&&i(t,null)}).error(function(t){n.state=o.Fail,n.error=t.Error||t,i&&i(null,t)})},t}();i.FileUploadService=n},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){"ngInject";var e=this;this.type=t.type||"file",this.name=t.name,this.buttons=t.buttons||null,this.progress=t.progress||null,t.$watch("progress",function(t){e.progress=t})}return t.$inject=["$scope"],t}();i.FileStartController=o},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){"ngInject";this.type=t.type||"file",this.name=t.name,this.buttons=t.buttons||null}return t.$inject=["$scope"],t}();i.FileSuccessController=o},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){}return t}();i.FileUploadButtons=o;var n=function(){function t(t){"ngInject";var e=this;this.error=null,this._functions=t.buttonFunction,this._functions&&(this.uploadButtons=[],this.failButtons=[{title:"Cancel",click:function(){e.onCancel()}},{title:"Retry",click:function(){e.onRetry()}}],this.startButtons=[{title:"Abort",click:function(){e.onAbort()}}]),this.buttons=t.buttons||!1,this.type=t.type||"file",this.name=t.name,this.state=t.state,this.error=t.error,this.progress=t.progress,t.$watch("state",function(t){e.state=t}),t.$watch("error",function(t){e.error=t}),t.$watch("progress",function(t){e.progress=t})}return t.$inject=["$scope"],t.prototype.onCancel=function(){this._functions.cancel&&this._functions.cancel()},t.prototype.onRetry=function(){this._functions.retry&&this._functions.retry()},t.prototype.onAbort=function(){this._functions.abort&&this._functions.abort()},t}();i.FileUploadController=n},{}],10:[function(t,e,i){!function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("fail/FileFail.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon color-badge-bg"><md-icon md-svg-icon="icons:cross"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{vm.type}} failed with errors!</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div><div class="color-error pip-error">{{vm.error}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons && vm.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="fail in vm.buttons" ng-click="fail.click()">{{::fail.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("select/FileSelect.html",'<div class="pip-file-select"><form id="inp_form" class="pip-hidden-form"><input type="file" file-model="vm.localFile" id="inp_file" ng-model="vm.localFile"></form><md-button class="md-raised md-accent pip-button" ng-click="vm.onUploadButtonClick()" ng-if="!vm.localFile">Choose File</md-button><div ng-if="vm.localFile.name" class="pip-file layout-row layout-align-start-center"><md-icon md-svg-icon="icons:document" class="pip-icon"></md-icon><div class="flex"><div class="text-body2 text-overflow">{{vm.localFile.name}}</div><div ng-if="vm.localFile.size" class="color-secondary-text">{{vm.localFile.size}}</div></div><md-button ng-click="vm.onDeleteButtonClick()" class="md-icon-button"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("start/FileStart.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-orange"><md-icon md-svg-icon="icons:play"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{::vm.type}}</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div><div><md-progress-linear md-mode="determinate" class="md-accent" value="{{vm.progress}}" ng-if="vm.progress < 100"></md-progress-linear><md-progress-linear md-mode="indeterminate" class="md-accent" ng-if="vm.progress == 100"></md-progress-linear></div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("success/FileSuccess.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-green"><md-icon md-svg-icon="icons:check"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploaded {{::vm.type}} successfully!</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons && vm.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("upload/FileUpload.html",'<div><pip-succes-upload ng-if="vm.state == \'upload\'" pip-name="vm.name" pip-type="vm.type" pip-buttons="vm.buttons"></pip-succes-upload><pip-fail-upload ng-if="vm.state == \'fail\'" pip-name="vm.name" pip-type="vm.type" pip-error="vm.error" pip-buttons="vm.failButtons"></pip-fail-upload><pip-start-upload ng-if="vm.state == \'start\'" pip-name="vm.name" pip-type="vm.type" pip-progress="vm.progress" pip-buttons="vm.startButtons"></pip-start-upload></div>')}])}()},{}]},{},[10,1,2,3,4,5,6,7,8,9])(10)});
//# sourceMappingURL=pip-webui-files.min.js.map
