!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).files=t()}}(function(){return function t(e,i,l){function n(r,p){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!p&&c)return c(r,!0);if(o)return o(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var a=i[r]={exports:{}};e[r][0].call(a.exports,function(t){var i=e[r][1][t];return n(i?i:t)},a,a.exports,t,e,i,l)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<l.length;r++)n(l[r]);return n}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function t(){}return t}();i.ButtonsUpload=l},{}],2:[function(t,e,i){function l(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}l.$inject=["$injector"],angular.module("pipFiles.Translate",[]).filter("translate",l)},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"<?pipButtons",name:"<pipName",type:"<?pipType",error:"<pipError"},n=(function(){function t(){}return t}(),function(){function t(t){"ngInject";var e=this;t.$watch("error",function(t){e.error=t})}return t.$inject=["$scope"],t}()),o={controller:n,bindings:l,templateUrl:"fail/FileFail.html"};angular.module("pipFiles.FailUpload",[]).component("pipFailUpload",o)},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("./service/FileUploadService"),t("./model/FileModel"),t("./success/FileSuccess"),t("./upload/FileUpload"),t("./start/FileStart"),t("./fail/FileFail"),t("./select/FileSelect"),angular.module("pipFiles",["pipFiles.Service","pipFiles.Model","pipFiles.SuccessUpload","pipFiles.FileUpload","pipFiles.StartUpload","pipFiles.FailUpload","pipFiles.Select"])},{"./fail/FileFail":3,"./model/FileModel":5,"./select/FileSelect":6,"./service/FileUploadService":7,"./start/FileStart":10,"./success/FileSuccess":11,"./upload/FileUpload":12}],5:[function(t,e,i){function l(t,e,i,l){var n=l(i.fileModel),o=n.assign;e.bind("change",function(){t.$apply(function(){o(t,e[0].files[0])})})}function n(t){"ngInject";return{restrict:"A",link:function(e,i,n){l(e,i,n,t)}}}n.$inject=["$parse"],angular.module("pipFiles.Model",[]).directive("fileModel",n)},{}],6:[function(t,e,i){var l={localFile:"<pipLocalFile",change:"<pipChange"},n=function(){function t(t){"ngInject";var e=this;t.$watch("$ctrl.localFile",function(t){e.change&&e.change(e.localFile)})}return t.$inject=["$scope"],t.prototype.onUploadButtonClick=function(){$("#inp_file").click()},t.prototype.onDeleteButtonClick=function(){this.localFile=null;var t=document.getElementById("inp_form");t.reset()},t}(),o={restrict:"E",replace:!0,bindings:l,controller:n,templateUrl:"select/FileSelect.html"};angular.module("pipFiles.Select",[]).component("pipFileSelect",o)},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=t("./FileUploadState"),n=function(){function t(t){"ngInject";this.$http=t}return t.$inject=["$http"],t.prototype.upload=function(t,e,i,n){var o=new FormData;o.append("file",t),n&&n(l.FileUploadState.Uploading,0),this.$http.post(e,o,{uploadEventHandlers:{progress:function(t){t.lengthComputable&&n&&n(l.FileUploadState.Uploading,t.loaded/t.total*100)}},headers:{"Content-Type":void 0}}).success(function(t){n&&n(l.FileUploadState.Completed,100),i&&i(t,null)}).error(function(t){n&&n(l.FileUploadState.Failed,0),i&&i(null,t.Error||t)})},t}();angular.module("pipFiles.Service",[]).service("pipFileUpload",n)},{"./FileUploadState":8}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l;!function(t){t[t.Uploading=0]="Uploading",t[t.Completed=1]="Completed",t[t.Failed=2]="Failed"}(l=i.FileUploadState||(i.FileUploadState={}))},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"<?pipButtons",name:"<pipName",type:"<?pipType",progress:"<?pipProgress"},n=(function(){function t(){}return t}(),function(){function t(){this.progress=0}return t.prototype.$onChanges=function(t){t.progress&&(this.progress=t.progress.currentValue)},t}()),o={controller:n,bindings:l,templateUrl:"start/FileStart.html"};angular.module("pipFiles.StartUpload",[]).component("pipStartUpload",o)},{}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"=?pipButtons",name:"=pipName",type:"=?pipType"},n=function(){function t(){this.type="file"}return t.prototype.$onChanges=function(t){},t}(),o={restrict:"E",replace:!0,controller:n,controllerAs:"vm",bindings:l,templateUrl:"success/FileSuccess.html"};angular.module("pipFiles.SuccessUpload",[]).component("pipSuccesUpload",o)},{}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function t(){}return t}(),{buttonFunction:"<?pipButtonFunctions",buttons:"<?pipButtons",error:"<?pipError",name:"<pipName",state:"<pipState",type:"<?pipType",progress:"<pipProgress"}),n=(function(){function t(){}return t}(),function(){function t(t){this.error=null}return t.prototype.$onInit=function(){var t=this;this.buttons&&(this.uploadButtons=[],this.failButtons=[{title:"Cancel",click:function(){t.onCancel()}},{title:"Retry",click:function(){t.onRetry()}}],this.startButtons=[{title:"Abort",click:function(){t.onAbort()}}])},t.prototype.$onChanges=function(t){t.state&&(this.state=t.state.currentValue),t.progress&&(this.progress=t.progress.currentValue),t.error&&(this.error=t.error.currentValue)},t.prototype.onCancel=function(){this.buttonFunction.cancel&&this.buttonFunction.cancel()},t.prototype.onRetry=function(){this.buttonFunction.retry&&this.buttonFunction.retry()},t.prototype.onAbort=function(){this.buttonFunction.abort&&this.buttonFunction.abort()},t}()),o={controller:n,bindings:l,templateUrl:"upload/FileUpload.html"};angular.module("pipFiles.FileUpload",[]).component("pipFileUpload",o)},{}],13:[function(t,e,i){!function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("fail/FileFail.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon color-badge-bg"><md-icon md-svg-icon="icons:cross"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{$ctrl.type}} failed with errors!</h3><div class="color-secondary-text pip-subtitle">{{$ctrl.name}}</div><div class="color-error pip-error">{{$ctrl.error}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="$ctrl.buttons && $ctrl.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="fail in $ctrl.buttons" ng-click="fail.click()">{{::fail.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("select/FileSelect.html",'<div class="pip-file-select"><form id="inp_form" class="pip-hidden-form"><input type="file" file-model="$ctrl.localFile" id="inp_file" ng-model="$ctrl.localFile"></form><md-button class="md-raised md-accent pip-button" ng-click="$ctrl.onUploadButtonClick()" ng-if="!$ctrl.localFile">Choose File</md-button><div ng-if="$ctrl.localFile.name" class="pip-file layout-row layout-align-start-center"><md-icon md-svg-icon="icons:document" class="pip-icon"></md-icon><div class="flex"><div class="text-body2 text-overflow">{{$ctrl.localFile.name}}</div><div ng-if="$ctrl.localFile.size" class="color-secondary-text">{{$ctrl.localFile.size}}</div></div><md-button ng-click="$ctrl.onDeleteButtonClick()" class="md-icon-button"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("start/FileStart.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-orange"><md-icon md-svg-icon="icons:play"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{::$ctrl.type}}</h3><div class="color-secondary-text pip-subtitle">{{$ctrl.name}}</div><div><md-progress-linear md-mode="determinate" class="md-accent" value="{{$ctrl.progress}}" ng-if="$ctrl.progress < 100"></md-progress-linear><md-progress-linear md-mode="indeterminate" class="md-accent" ng-if="$ctrl.progress == 100"></md-progress-linear></div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="$ctrl.buttons"><div><md-button class="md-accent" ng-repeat="start in $ctrl.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("success/FileSuccess.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-green"><md-icon md-svg-icon="icons:check"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploaded {{::vm.type}} successfully!</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons && vm.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("upload/FileUpload.html",'<div><pip-succes-upload ng-if="$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-buttons="$ctrl.buttons"></pip-succes-upload><pip-fail-upload ng-if="$ctrl.state == 2" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-error="$ctrl.error" pip-buttons="$ctrl.failButtons"></pip-fail-upload><pip-start-upload ng-if="$ctrl.state == 0" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-progress="$ctrl.progress" pip-buttons="$ctrl.startButtons"></pip-start-upload></div>')}])}()},{}]},{},[13,1,2,3,4,5,6,7,8,9,10,11,12])(13)});
//# sourceMappingURL=pip-webui-files.min.js.map
