!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.pip||(t.pip={})).files=e()}}(function(){return function e(t,i,l){function n(r,s){if(!i[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var a=i[r]={exports:{}};t[r][0].call(a.exports,function(e){var i=t[r][1][e];return n(i?i:e)},a,a.exports,e,t,i,l)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<l.length;r++)n(l[r]);return n}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(){}return e}();i.ButtonsUpload=l},{}],2:[function(e,t,i){!function(){"use strict";function e(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return t?t.translate(e)||e:e}}e.$inject=["$injector"],angular.module("pipFiles.Translate",[]).filter("translate",e)}()},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e){"ngInject";var t=this;e.$watch("error",function(e){t.error=e})}return e.$inject=["$scope"],e}();i.FileFailController=l},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("./FileFailController"),n={buttons:"<?pipButtons",name:"<pipName",type:"<?pipType",error:"<pipError"},o=function(){function e(){}return e}();i.FileFailChanges=o;var r={controller:l.FileFailController,bindings:n,templateUrl:"fail/FileFail.html"};!function(){angular.module("pipFiles.FailUpload",[]).component("pipFailUpload",r)}()},{"./FileFailController":3}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("./select/FileSelectController"),n=e("./service/FileUploadService");e("./success/index"),e("./upload/index"),e("./start/index"),e("./fail/index"),function(){function e(e){"ngInject";return{restrict:"A",link:function(t,i,l){var n=e(l.fileModel),o=n.assign;i.bind("change",function(){t.$apply(function(){o(t,i[0].files[0])})})}}}function t(){return{restrict:"E",replace:!0,scope:{localFile:"="},controller:l.FileSelectController,controllerAs:"vm",templateUrl:"select/FileSelect.html"}}e.$inject=["$parse"],angular.module("pipFiles",["pipFiles.SuccessUpload","pipFiles.FileUpload","pipFiles.StartUpload","pipFiles.FailUpload"]).directive("fileModel",e).directive("pipFileSelect",t).service("pipFileUpload",n.FileUploadService)}()},{"./fail/index":4,"./select/FileSelectController":6,"./service/FileUploadService":7,"./start/index":9,"./success/index":11,"./upload/index":13}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e){"ngInject";this.localFile=e.localFile,e.$watch("vm.localFile",function(t){e.localFile=t})}return e.$inject=["$scope"],e.prototype.onUploadButtonClick=function(){$("#inp_file").click()},e.prototype.onDeleteButtonClick=function(){this.localFile=null;var e=document.getElementById("inp_form");e.reset()},e}();i.FileSelectController=l},{}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(){}return e}();l.All=["start","upload","fail"],l.Start="start",l.Upload="upload",l.Fail="fail",i.FileUploadState=l;var n=function(){function e(e){this.$http=e,this.error=null}return e.prototype.upload=function(e,t,i){var n=this,o=new FormData;o.append("file",t),this.progress=0,this.state=l.Start,this.$http.post(e,o,{uploadEventHandlers:{progress:function(e){e.lengthComputable&&(n.progress=e.loaded/e.total*100)}},headers:{"Content-Type":void 0}}).success(function(e){n.state=l.Upload,i&&i(e,null)}).error(function(e){n.state=l.Fail,n.error=e.Error||e,i&&i(null,e)})},e}();i.FileUploadService=n},{}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e){"ngInject";var t=this;this.progress=0,e.$watch("progress",function(e){t.progress=e})}return e.$inject=["$scope"],e}();i.FileStartController=l},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("./FileStartController");!function(){var e={restrict:"E",replace:!0,controller:l.FileStartController,controllerAs:"vm",bindings:{buttons:"=?pipButtons",name:"=pipName",type:"=?pipType",progress:"=?pipProgress"},templateUrl:"start/FileStart.html"};angular.module("pipFiles.StartUpload",[]).component("pipStartUpload",e)}()},{"./FileStartController":8}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(){this.type="file"}return e.prototype.$onChanges=function(e){},e}();i.FileSuccessController=l},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("./FileSuccessController"),n={buttons:"=?pipButtons",name:"=pipName",type:"=?pipType"};!function(){var e={restrict:"E",replace:!0,controller:l.FileSuccessController,controllerAs:"vm",bindings:n,templateUrl:"success/FileSuccess.html"};angular.module("pipFiles.SuccessUpload",[]).component("pipSuccesUpload",e)}()},{"./FileSuccessController":10}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(){}return e}();i.FileUploadButtons=l;var n=function(){function e(e){"ngInject";var t=this;this.error=null,this.buttonFunction&&(this.uploadButtons=[],this.failButtons=[{title:"Cancel",click:function(){t.onCancel()}},{title:"Retry",click:function(){t.onRetry()}}],this.startButtons=[{title:"Abort",click:function(){t.onAbort()}}])}return e.$inject=["$scope"],e.prototype.$onChanges=function(e){e.state&&(this.state=e.state.currentValue),e.progress&&(this.progress=e.progress.currentValue),e.error&&(this.error=e.error.currentValue)},e.prototype.onCancel=function(){this.buttonFunction.cancel&&this.buttonFunction.cancel()},e.prototype.onRetry=function(){this.buttonFunction.retry&&this.buttonFunction.retry()},e.prototype.onAbort=function(){this.buttonFunction.abort&&this.buttonFunction.abort()},e}();i.FileUploadController=n},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("./FileUploadController"),n={buttonFunction:"<?pipButtonFunctions",buttons:"<?pipButtons",error:"<?pipError",name:"<pipName",state:"<pipState",type:"<?pipType",progress:"<pipProgress"},o=function(){function e(){}return e}();i.FileUploadChanges=o;var r={controller:l.FileUploadController,bindings:n,templateUrl:"upload/FileUpload.html"};!function(){angular.module("pipFiles.FileUpload",[]).component("pipFileUpload",r)}()},{"./FileUploadController":12}],14:[function(e,t,i){!function(e){try{e=angular.module("pipFiles.Templates")}catch(t){e=angular.module("pipFiles.Templates",[])}e.run(["$templateCache",function(e){e.put("fail/FileFail.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon color-badge-bg"><md-icon md-svg-icon="icons:cross"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{$ctrl.type}} failed with errors!</h3><div class="color-secondary-text pip-subtitle">{{$ctrl.name}}</div><div class="color-error pip-error">{{$ctrl.error}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="$ctrl.buttons && $ctrl.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="fail in $ctrl.buttons" ng-click="fail.click()">{{::fail.title}}</md-button></div></div></div>')}])}(),function(e){try{e=angular.module("pipFiles.Templates")}catch(t){e=angular.module("pipFiles.Templates",[])}e.run(["$templateCache",function(e){e.put("select/FileSelect.html",'<div class="pip-file-select"><form id="inp_form" class="pip-hidden-form"><input type="file" file-model="vm.localFile" id="inp_file" ng-model="vm.localFile"></form><md-button class="md-raised md-accent pip-button" ng-click="vm.onUploadButtonClick()" ng-if="!vm.localFile">Choose File</md-button><div ng-if="vm.localFile.name" class="pip-file layout-row layout-align-start-center"><md-icon md-svg-icon="icons:document" class="pip-icon"></md-icon><div class="flex"><div class="text-body2 text-overflow">{{vm.localFile.name}}</div><div ng-if="vm.localFile.size" class="color-secondary-text">{{vm.localFile.size}}</div></div><md-button ng-click="vm.onDeleteButtonClick()" class="md-icon-button"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></div>')}])}(),function(e){try{e=angular.module("pipFiles.Templates")}catch(t){e=angular.module("pipFiles.Templates",[])}e.run(["$templateCache",function(e){e.put("start/FileStart.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-orange"><md-icon md-svg-icon="icons:play"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{::vm.type}}</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div><div><md-progress-linear md-mode="determinate" class="md-accent" value="{{vm.progress}}" ng-if="vm.progress < 100"></md-progress-linear><md-progress-linear md-mode="indeterminate" class="md-accent" ng-if="vm.progress == 100"></md-progress-linear></div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(e){try{e=angular.module("pipFiles.Templates")}catch(t){e=angular.module("pipFiles.Templates",[])}e.run(["$templateCache",function(e){e.put("success/FileSuccess.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-green"><md-icon md-svg-icon="icons:check"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploaded {{::vm.type}} successfully!</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons && vm.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(e){try{e=angular.module("pipFiles.Templates")}catch(t){e=angular.module("pipFiles.Templates",[])}e.run(["$templateCache",function(e){e.put("upload/FileUpload.html",'<div><pip-succes-upload ng-if="$ctrl.state == \'upload\'" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-buttons="$ctrl.buttons"></pip-succes-upload><pip-fail-upload ng-if="$ctrl.state == \'fail\'" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-error="$ctrl.error" pip-buttons="$ctrl.failButtons"></pip-fail-upload><pip-start-upload ng-if="$ctrl.state == \'start\'" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-progress="$ctrl.progress" pip-buttons="$ctrl.startButtons"></pip-start-upload></div>')}])}()},{}]},{},[14,1,2,3,4,5,6,7,8,9,10,11,12,13])(14)});
//# sourceMappingURL=pip-webui-files.min.js.map
