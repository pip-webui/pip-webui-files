{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/common/ButtonsUpload.ts","src/dependencies/translate.ts","src/fail/FileFailController.ts","src/files.ts","src/select/FileSelectController.ts","src/service/FileUploadService.ts","src/start/FileStartController.ts","src/start/index.ts","src/success/FileSuccessController.ts","src/success/index.ts","src/upload/FileUploadController.ts","src/upload/index.ts","temp/pip-webui-files-html.min.js"],"names":[],"mappings":"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","file":"pip-webui-files.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export class ButtonsUpload {\n    public title: string;\n    public click: Function;\n}","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(() => {\n    'use strict';\n    function filerTranslate($injector: angular.auto.IInjectorService) {\n        let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key: string) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipFiles.Translate', [])\n        .filter('translate', filerTranslate);\n\n})();","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nexport interface IFileFailController {\n    name: string;\n    type: string;\n    error: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileFailController implements IFileFailController {\n    public name: string;\n    public type: string;\n    public error: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n        this.type = $scope['type'] || 'file';\n        this.name = $scope['name'];\n        this.buttons = $scope['buttons'] || null;\n        this.error = $scope['error'] || null;\n        \n        $scope.$watch('error', (error: string) => {\n            this.error = error;\n        })\n      \n    }\n}","ï»¿\nimport {FileSelectController} from './select/FileSelectController';\nimport {FileFailController} from './fail/FileFailController';\nimport {FileUploadService} from './service/FileUploadService';\n\nimport './success/index';\nimport './upload/index';\nimport './start/index';\n\n(() => {\n    function fileModelDirective($parse: any) {\n        \"ngInject\";\n\n        return {\n            restrict: 'A',\n            link: (scope, element, attrs) => {\n                let model = $parse(attrs.fileModel);\n                let modelSetter = model.assign;\n                \n                element.bind('change', () => {\n                    scope.$apply(() => {\n                        modelSetter(scope, element[0].files[0]);\n                    });\n                });\n            }\n        };\n    }\n\n    function fileSelectDirective() {\n        return {\n            restrict: 'E',\n            replace: true,\n            scope: {\n                localFile: '='\n            },\n            controller: FileSelectController,\n            controllerAs: 'vm',\n            templateUrl: 'select/FileSelect.html'\n        };\n    }\n     function fileFailDirective() {\n        return {\n            restrict: 'E',\n            replace: true,\n            controller: FileFailController,\n            controllerAs: 'vm',\n            scope: {\n                buttons: '=?pipButtons',\n                name: '=pipName',\n                type: '=?pipType',\n                error: '=pipError'\n            },\n            templateUrl: 'fail/FileFail.html'\n        };\n    }\n\n\n    angular\n        .module('pipFiles', ['pipFiles.SuccessUpload', 'pipFiles.FileUpload', 'pipFiles.StartUpload'])\n        .directive('fileModel', fileModelDirective)\n        .directive('pipFileSelect', fileSelectDirective)\n        .directive('pipFailUpload', fileFailDirective)\n        .service('pipFileUpload', FileUploadService);\n\n\n})();\n","export interface IFileSelectController {\n    localFile: any;\n    onUploadButtonClick(): void ;\n    onDeleteButtonClick(): void;\n}\n\nexport class FileSelectController implements IFileSelectController {\n    public localFile: any;\n    \n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        this.localFile = $scope['localFile'];\n        $scope.$watch('vm.localFile', (item) => {\n            $scope['localFile'] = item;\n        }) \n    }\n\n    public onUploadButtonClick(): void {\n        $('#inp_file').click();\n    }\n\n    public onDeleteButtonClick(): void {\n        this.localFile = null;\n        let forml = document.getElementById('inp_form');\n        (<any>forml).reset();\n\n    }\n}","export class FileUploadState {\n    public static All: string[] = ['start', 'upload', 'fail'];\n    public static Start: string = 'start';\n    public static Upload: string = 'upload';\n    public static Fail: string = 'fail';\n}\n\nexport interface IFileUploadService {\n    progress: number;\n    state: string;\n    error: string;\n    upload(url: string, file: any, transaction: any, callback?: (data: any, err: any) => void): void;\n}\n\nexport class FileUploadService implements IFileUploadService {\n    public progress: number;\n    public state: string;\n    public error: string = null;\n\n    public constructor( private $http: ng.IHttpService) {}\n\n    public upload(url: string, file: any, callback?: (data: any, err: any) => void): void {\n        \n        let fd: FormData = new FormData();\n        fd.append('file', file);\n        \n        this.progress = 0;\n        this.state = FileUploadState.Start;\n        this.$http.post(url, fd, <any>{\n            uploadEventHandlers: {\n                progress: (e: any) => {\n                    if (e.lengthComputable) {\n                        this.progress = (e.loaded / e.total) * 100;\n                    }\n                }\n            },\n            headers: { 'Content-Type': undefined }\n        })    \n        .success((response: any) => {\n            this.state = FileUploadState.Upload;\n\n            if (callback) callback(response, null);\n        })    \n        .error((response: any) => {\n            this.state = FileUploadState.Fail;\n            this.error = response.Error || response;\n\n            if (callback) callback(null, response);\n        });\n    }\n}","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nexport interface IFileStartController {\n    name: string;\n    type: string;\n    progress: number;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileStartController implements IFileStartController {\n    public name: string;\n    public progress: number = 0;\n    public type: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n      \n        $scope.$watch('progress', (progress: number) => {\n            this.progress = progress;\n        })\n    }\n}","\nimport {FileStartController} from './FileStartController';\n\n(() => {\n \n    const fileStartDirective = {\n        restrict: 'E',\n        replace: true,\n        controller: FileStartController,\n        controllerAs: 'vm',\n        bindings: {\n            buttons: '=?pipButtons',\n            name: '=pipName',\n            type: '=?pipType',\n            progress: '=?pipProgress'\n        },\n        templateUrl: 'start/FileStart.html'\n    };\n\n    angular\n        .module('pipFiles.StartUpload', [])\n        .component('pipStartUpload', fileStartDirective)\n\n\n})();\n","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport { IFileSuccessBindings} from './index';\n\nexport interface IFileSuccessController {\n    name: string;\n    type: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\n    public name: string;\n    public type: string = 'file';\n    public buttons: ButtonsUpload[];\n\n    constructor() {}\n\n    public $onChanges(changes) {}\n}","\nimport {FileSuccessController} from './FileSuccessController';\n\nexport interface IFileSuccessBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any\n}\n\nconst FileSuccessBindings: IFileSuccessBindings = {\n    buttons: '=?pipButtons',\n    name: '=pipName',\n    type: '=?pipType',\n};\n\n(() => {\n \n     const fileSuccessDirective = {\n            restrict: 'E',\n            replace: true,\n            controller: FileSuccessController,\n            controllerAs: 'vm',\n            bindings: FileSuccessBindings,\n            templateUrl: 'success/FileSuccess.html'\n    }\n\n\n    angular\n        .module('pipFiles.SuccessUpload', [])\n        .component('pipSuccesUpload', fileSuccessDirective)\n\n\n})();\n","\nimport {\n    IFileUploadService\n} from \"../service/FileUploadService\";\n\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport {\n    FileUploadChanges\n} from \"./index\";\n\nexport interface IFileUploadController {\n    name: string;\n    type: string;\n    state: string;\n    progress: number;\n    onCancel(): void;\n    onRetry(): void;\n    onAbort(): void;\n}\n\nexport class FileUploadButtons {\n    retry: Function;\n    cancel: Function;\n    abort: Function;\n}\n\nexport class FileUploadController implements IFileUploadController {\n    public buttonFunction: FileUploadButtons;\n    public uploadButtons: ButtonsUpload[];\n    public failButtons: ButtonsUpload[];\n    public startButtons: ButtonsUpload[];\n\n    public name: string;\n    public type: string;\n    public state: string;\n    public progress: number;\n    public buttons: boolean;\n    public error: string = null;\n\n    constructor( $scope: ng.IScope ) {\n        \"ngInject\";\n        \n        // Init parameters\n        if (this.buttonFunction) {\n            this.uploadButtons = [];\n            this.failButtons = [\n                {title: 'Cancel', click: () => { this.onCancel()}},\n                {title: 'Retry', click: () => { this.onRetry()}}\n            ];\n            this.startButtons = [\n                {title: 'Abort', click: () => { this.onAbort() }}\n            ];\n        }\n    }\n\n    \n    public $onChanges(changes: FileUploadChanges) {\n        if (changes.state) {\n            this.state = changes.state.currentValue;\n        }\n\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n        if (changes.error) {\n            this.error = changes.error.currentValue;\n        }\n\n    }\n\n    public onCancel(): void {\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\n    }\n\n    public onRetry(): void {\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\n    }\n\n    public onAbort() {\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\n    }\n\n}","\nimport {FileUploadController, FileUploadButtons} from './FileUploadController';\n\nexport interface IFileUploadBindings {\n    [key: string]: any;\n\n    buttonFunction: any,\n    buttons: any,\n    error: any,\n    name: any,\n    state: any,\n    type: any,\n    progress: any\n}\n\nconst FileUploadBindings: IFileUploadBindings = {\n    buttonFunction: '<?pipButtonFunctions',\n    buttons: '<?pipButtons',\n    error: '<?pipError',\n    name: '<pipName',\n    state: '<pipState',\n    type: '<?pipType',\n    progress: '<pipProgress'\n}\n\nexport class FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\n    buttons: ng.IChangesObject<boolean>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    state: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n    //currentButtonValue: any;\n    //currentButton: any;\n    //change: ng.IChangesObject<() => ng.IPromise<void>>;\n    // One way bindings\n}\n\nconst fileUploadDirective = {\n    controller: FileUploadController,\n    bindings: FileUploadBindings,\n    templateUrl: 'upload/FileUpload.html'\n};\n\n\n(() => {\n\n    angular\n        .module('pipFiles.FileUpload', [])\n        .component('pipFileUpload', fileUploadDirective)\n       \n})();\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"vm.localFile\" id=\"inp_file\" ng-model=\"vm.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"vm.onUploadButtonClick()\" ng-if=\"!vm.localFile\">Choose File</md-button><div ng-if=\"vm.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{vm.localFile.name}}</div><div ng-if=\"vm.localFile.size\" class=\"color-secondary-text\">{{vm.localFile.size}}</div></div><md-button ng-click=\"vm.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{vm.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div><div class=\"color-error pip-error\">{{vm.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in vm.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == \\'upload\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == \\'fail\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == \\'start\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::vm.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{vm.progress}}\" ng-if=\"vm.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"vm.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tbW9uL0J1dHRvbnNVcGxvYWQudHMiLCJzcmMvZGVwZW5kZW5jaWVzL3RyYW5zbGF0ZS50cyIsInNyYy9mYWlsL0ZpbGVGYWlsQ29udHJvbGxlci50cyIsInNyYy9maWxlcy50cyIsInNyYy9zZWxlY3QvRmlsZVNlbGVjdENvbnRyb2xsZXIudHMiLCJzcmMvc2VydmljZS9GaWxlVXBsb2FkU2VydmljZS50cyIsInNyYy9zdGFydC9GaWxlU3RhcnRDb250cm9sbGVyLnRzIiwic3JjL3N0YXJ0L2luZGV4LnRzIiwic3JjL3N1Y2Nlc3MvRmlsZVN1Y2Nlc3NDb250cm9sbGVyLnRzIiwic3JjL3N1Y2Nlc3MvaW5kZXgudHMiLCJzcmMvdXBsb2FkL0ZpbGVVcGxvYWRDb250cm9sbGVyLnRzIiwic3JjL3VwbG9hZC9pbmRleC50cyIsInRlbXAvcGlwLXdlYnVpLWZpbGVzLWh0bWwubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtJQUFBO0lBR0EsQ0FBQztJQUFELG9CQUFDO0FBQUQsQ0FIQSxBQUdDLElBQUE7QUFIWSxzQ0FBYTs7O0FDTzFCLENBQUM7SUFDRyxZQUFZLENBQUM7SUFDYix3QkFBd0IsU0FBd0M7UUFDNUQsSUFBSSxZQUFZLEdBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7Y0FDL0MsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFM0MsTUFBTSxDQUFDLFVBQUMsR0FBVztZQUNmLE1BQU0sQ0FBQyxZQUFZLEdBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3BFLENBQUMsQ0FBQTtJQUNMLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsQ0FBQztTQUNuQyxNQUFNLENBQUMsV0FB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bUIsR0FBRztJQUN4QixVQUFVLEVBQUUsMkNBQW9CO0lBQ2hDLFFBQVEsRUFBRSxrQkFBa0I7SUFDNUIsV0FBVyxFQUFFLHdCQUF3QjtDQUN4QyxDQUFDO0FBR0YsQ0FBQztJQUVHLE9BQU87U0FDRixNQUFNLENBQUMscUJBQXFCLEVBQUUsRUFBRSxDQUFDO1NBQ2pDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTtBQUV4RCxDQUFDLENBQUMsRUFBRSxDQUFDOzs7QUN2REw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJleHBvcnQgY2xhc3MgQnV0dG9uc1VwbG9hZCB7XG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmc7XG4gICAgcHVibGljIGNsaWNrOiBGdW5jdGlvbjtcbn0iLCIvKipcbiAqIEBmaWxlIE9wdGlvbmFsIGZpbHRlciB0byB0cmFuc2xhdGUgc3RyaW5nIHJlc291cmNlc1xuICogQGNvcHlyaWdodCBEaWdpdGFsIExpdmluZyBTb2Z0d2FyZSBDb3JwLiAyMDE0LTIwMTZcbiAqL1xuIFxuLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKCgpID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgZnVuY3Rpb24gZmlsZXJUcmFuc2xhdGUoJGluamVjdG9yOiBhbmd1bGFyLmF1dG8uSUluamVjdG9yU2VydmljZSkge1xuICAgICAgICBsZXQgcGlwVHJhbnNsYXRlOiBhbnkgPSAkaW5qZWN0b3IuaGFzKCdwaXBUcmFuc2xhdGUnKSBcbiAgICAgICAgICAgID8gJGluamVjdG9yLmdldCgncGlwVHJhbnNsYXRlJykgOiBudWxsO1xuXG4gICAgICAgIHJldHVybiAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwaXBUcmFuc2xhdGUgID8gcGlwVHJhbnNsYXRlLnRyYW5zbGF0ZShrZXkpIHx8IGtleSA6IGtleTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UcmFuc2xhdGUnLCBbXSlcbiAgICAgICAgLmZpbHRlcigndHJhbnNsYXRlJywgZmlsZXJUcmFuc2xhdGUpO1xuXG59KSgpOyIsIlxuaW1wb3J0IHtcbiAgICBCdXR0b25zVXBsb2FkXG59IGZyb20gXCIuLi9jb21tb24vQnV0dG9uc1VwbG9hZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlRmFpbENvbnRyb2xsZXIge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZXJyb3I6IHN0cmluZztcbiAgICBidXR0b25zOiBCdXR0b25zVXBsb2FkW107XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxlRmFpbENvbnRyb2xsZXIgaW1wbGVtZW50cyBJRmlsZUZhaWxDb250cm9sbGVyIHtcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gICAgcHVibGljIGVycm9yOiBzdHJpbmc7XG4gICAgcHVibGljIGJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcblxuICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXQgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLnR5cGUgPSAkc2NvcGVbJ3R5cGUnXSB8fCAnZmlsZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICRzY29wZVsnbmFtZSddO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAkc2NvcGVbJ2J1dHRvbnMnXSB8fCBudWxsO1xuICAgICAgICB0aGlzLmVycm9yID0gJHNjb3BlWydlcnJvciddIHx8IG51bGw7XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdlcnJvcicsIChlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9XG59Iiwi77u/XG5pbXBvcnQge0ZpbGVTZWxlY3RDb250cm9sbGVyfSBmcm9tICcuL3NlbGVjdC9GaWxlU2VsZWN0Q29udHJvbGxlcic7XG5pbXBvcnQge0ZpbGVGYWlsQ29udHJvbGxlcn0gZnJvbSAnLi9mYWlsL0ZpbGVGYWlsQ29udHJvbGxlcic7XG5pbXBvcnQge0ZpbGVVcGxvYWRTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2UvRmlsZVVwbG9hZFNlcnZpY2UnO1xuXG5pbXBvcnQgJy4vc3VjY2Vzcy9pbmRleCc7XG5pbXBvcnQgJy4vdXBsb2FkL2luZGV4JztcbmltcG9ydCAnLi9zdGFydC9pbmRleCc7XG5cbigoKSA9PiB7XG4gICAgZnVuY3Rpb24gZmlsZU1vZGVsRGlyZWN0aXZlKCRwYXJzZTogYW55KSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcbiAgICAgICAgICAgICAgICBsZXQgbW9kZWxTZXR0ZXIgPSBtb2RlbC5hc3NpZ247XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGVTZWxlY3REaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxGaWxlOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlU2VsZWN0Q29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2VsZWN0L0ZpbGVTZWxlY3QuaHRtbCdcbiAgICAgICAgfTtcbiAgICB9XG4gICAgIGZ1bmN0aW9uIGZpbGVGYWlsRGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlRmFpbENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnM6ICc9P3BpcEJ1dHRvbnMnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICc9cGlwTmFtZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJz0/cGlwVHlwZScsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICc9cGlwRXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdmYWlsL0ZpbGVGYWlsLmh0bWwnXG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzJywgWydwaXBGaWxlcy5TdWNjZXNzVXBsb2FkJywgJ3BpcEZpbGVzLkZpbGVVcGxvYWQnLCAncGlwRmlsZXMuU3RhcnRVcGxvYWQnXSlcbiAgICAgICAgLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJywgZmlsZU1vZGVsRGlyZWN0aXZlKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBGaWxlU2VsZWN0JywgZmlsZVNlbGVjdERpcmVjdGl2ZSlcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwRmFpbFVwbG9hZCcsIGZpbGVGYWlsRGlyZWN0aXZlKVxuICAgICAgICAuc2VydmljZSgncGlwRmlsZVVwbG9hZCcsIEZpbGVVcGxvYWRTZXJ2aWNlKTtcblxuXG59KSgpO1xuIiwiZXhwb3J0IGludGVyZmFjZSBJRmlsZVNlbGVjdENvbnRyb2xsZXIge1xuICAgIGxvY2FsRmlsZTogYW55O1xuICAgIG9uVXBsb2FkQnV0dG9uQ2xpY2soKTogdm9pZCA7XG4gICAgb25EZWxldGVCdXR0b25DbGljaygpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVNlbGVjdENvbnRyb2xsZXIgaW1wbGVtZW50cyBJRmlsZVNlbGVjdENvbnRyb2xsZXIge1xuICAgIHB1YmxpYyBsb2NhbEZpbGU6IGFueTtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcigkc2NvcGU6IG5nLklTY29wZSkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG4gICAgICAgIHRoaXMubG9jYWxGaWxlID0gJHNjb3BlWydsb2NhbEZpbGUnXTtcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgndm0ubG9jYWxGaWxlJywgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICRzY29wZVsnbG9jYWxGaWxlJ10gPSBpdGVtO1xuICAgICAgICB9KSBcbiAgICB9XG5cbiAgICBwdWJsaWMgb25VcGxvYWRCdXR0b25DbGljaygpOiB2b2lkIHtcbiAgICAgICAgJCgnI2lucF9maWxlJykuY2xpY2soKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25EZWxldGVCdXR0b25DbGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2NhbEZpbGUgPSBudWxsO1xuICAgICAgICBsZXQgZm9ybWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wX2Zvcm0nKTtcbiAgICAgICAgKDxhbnk+Zm9ybWwpLnJlc2V0KCk7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRTdGF0ZSB7XG4gICAgcHVibGljIHN0YXRpYyBBbGw6IHN0cmluZ1tdID0gWydzdGFydCcsICd1cGxvYWQnLCAnZmFpbCddO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RhcnQ6IHN0cmluZyA9ICdzdGFydCc7XG4gICAgcHVibGljIHN0YXRpYyBVcGxvYWQ6IHN0cmluZyA9ICd1cGxvYWQnO1xuICAgIHB1YmxpYyBzdGF0aWMgRmFpbDogc3RyaW5nID0gJ2ZhaWwnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlVXBsb2FkU2VydmljZSB7XG4gICAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIGVycm9yOiBzdHJpbmc7XG4gICAgdXBsb2FkKHVybDogc3RyaW5nLCBmaWxlOiBhbnksIHRyYW5zYWN0aW9uOiBhbnksIGNhbGxiYWNrPzogKGRhdGE6IGFueSwgZXJyOiBhbnkpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZFNlcnZpY2UgaW1wbGVtZW50cyBJRmlsZVVwbG9hZFNlcnZpY2Uge1xuICAgIHB1YmxpYyBwcm9ncmVzczogbnVtYmVyO1xuICAgIHB1YmxpYyBzdGF0ZTogc3RyaW5nO1xuICAgIHB1YmxpYyBlcnJvcjogc3RyaW5nID0gbnVsbDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJpdmF0ZSAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlKSB7fVxuXG4gICAgcHVibGljIHVwbG9hZCh1cmw6IHN0cmluZywgZmlsZTogYW55LCBjYWxsYmFjaz86IChkYXRhOiBhbnksIGVycjogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBsZXQgZmQ6IEZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZkLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBGaWxlVXBsb2FkU3RhdGUuU3RhcnQ7XG4gICAgICAgIHRoaXMuJGh0dHAucG9zdCh1cmwsIGZkLCA8YW55PntcbiAgICAgICAgICAgIHVwbG9hZEV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gKGUubG9hZGVkIC8gZS50b3RhbCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cbiAgICAgICAgfSkgICAgXG4gICAgICAgIC5zdWNjZXNzKChyZXNwb25zZTogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gRmlsZVVwbG9hZFN0YXRlLlVwbG9hZDtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhyZXNwb25zZSwgbnVsbCk7XG4gICAgICAgIH0pICAgIFxuICAgICAgICAuZXJyb3IoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBGaWxlVXBsb2FkU3RhdGUuRmFpbDtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSByZXNwb25zZS5FcnJvciB8fCByZXNwb25zZTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJcbmltcG9ydCB7XG4gICAgQnV0dG9uc1VwbG9hZFxufSBmcm9tIFwiLi4vY29tbW9uL0J1dHRvbnNVcGxvYWRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVN0YXJ0Q29udHJvbGxlciB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBwcm9ncmVzczogbnVtYmVyO1xuICAgIGJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVTdGFydENvbnRyb2xsZXIgaW1wbGVtZW50cyBJRmlsZVN0YXJ0Q29udHJvbGxlciB7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gICAgcHVibGljIHR5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xuXG4gICAgY29uc3RydWN0b3IoJHNjb3BlOiBuZy5JU2NvcGUpIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdCBwYXJhbWV0ZXJzXG4gICAgICBcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgncHJvZ3Jlc3MnLCAocHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJcbmltcG9ydCB7RmlsZVN0YXJ0Q29udHJvbGxlcn0gZnJvbSAnLi9GaWxlU3RhcnRDb250cm9sbGVyJztcblxuKCgpID0+IHtcbiBcbiAgICBjb25zdCBmaWxlU3RhcnREaXJlY3RpdmUgPSB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IEZpbGVTdGFydENvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgYmluZGluZ3M6IHtcbiAgICAgICAgICAgIGJ1dHRvbnM6ICc9P3BpcEJ1dHRvbnMnLFxuICAgICAgICAgICAgbmFtZTogJz1waXBOYW1lJyxcbiAgICAgICAgICAgIHR5cGU6ICc9P3BpcFR5cGUnLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6ICc9P3BpcFByb2dyZXNzJ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXJ0L0ZpbGVTdGFydC5odG1sJ1xuICAgIH07XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzLlN0YXJ0VXBsb2FkJywgW10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcFN0YXJ0VXBsb2FkJywgZmlsZVN0YXJ0RGlyZWN0aXZlKVxuXG5cbn0pKCk7XG4iLCJcbmltcG9ydCB7XG4gICAgQnV0dG9uc1VwbG9hZFxufSBmcm9tIFwiLi4vY29tbW9uL0J1dHRvbnNVcGxvYWRcIjtcblxuaW1wb3J0IHsgSUZpbGVTdWNjZXNzQmluZGluZ3N9IGZyb20gJy4vaW5kZXgnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlU3VjY2Vzc0NvbnRyb2xsZXIge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVN1Y2Nlc3NDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTdWNjZXNzQ29udHJvbGxlciwgSUZpbGVTdWNjZXNzQmluZGluZ3Mge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gICAgcHVibGljIHR5cGU6IHN0cmluZyA9ICdmaWxlJztcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlcykge31cbn0iLCJcbmltcG9ydCB7RmlsZVN1Y2Nlc3NDb250cm9sbGVyfSBmcm9tICcuL0ZpbGVTdWNjZXNzQ29udHJvbGxlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVTdWNjZXNzQmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgIHR5cGU6IGFueVxuICAgIGJ1dHRvbnM6IGFueSxcbiAgICBuYW1lOiBhbnlcbn1cblxuY29uc3QgRmlsZVN1Y2Nlc3NCaW5kaW5nczogSUZpbGVTdWNjZXNzQmluZGluZ3MgPSB7XG4gICAgYnV0dG9uczogJz0/cGlwQnV0dG9ucycsXG4gICAgbmFtZTogJz1waXBOYW1lJyxcbiAgICB0eXBlOiAnPT9waXBUeXBlJyxcbn07XG5cbigoKSA9PiB7XG4gXG4gICAgIGNvbnN0IGZpbGVTdWNjZXNzRGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlU3VjY2Vzc0NvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBiaW5kaW5nczogRmlsZVN1Y2Nlc3NCaW5kaW5ncyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3VjY2Vzcy9GaWxlU3VjY2Vzcy5odG1sJ1xuICAgIH1cblxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBGaWxlcy5TdWNjZXNzVXBsb2FkJywgW10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcFN1Y2Nlc1VwbG9hZCcsIGZpbGVTdWNjZXNzRGlyZWN0aXZlKVxuXG5cbn0pKCk7XG4iLCJcbmltcG9ydCB7XG4gICAgSUZpbGVVcGxvYWRTZXJ2aWNlXG59IGZyb20gXCIuLi9zZXJ2aWNlL0ZpbGVVcGxvYWRTZXJ2aWNlXCI7XG5cbmltcG9ydCB7XG4gICAgQnV0dG9uc1VwbG9hZFxufSBmcm9tIFwiLi4vY29tbW9uL0J1dHRvbnNVcGxvYWRcIjtcblxuaW1wb3J0IHtcbiAgICBGaWxlVXBsb2FkQ2hhbmdlc1xufSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlVXBsb2FkQ29udHJvbGxlciB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHByb2dyZXNzOiBudW1iZXI7XG4gICAgb25DYW5jZWwoKTogdm9pZDtcbiAgICBvblJldHJ5KCk6IHZvaWQ7XG4gICAgb25BYm9ydCgpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZEJ1dHRvbnMge1xuICAgIHJldHJ5OiBGdW5jdGlvbjtcbiAgICBjYW5jZWw6IEZ1bmN0aW9uO1xuICAgIGFib3J0OiBGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVVcGxvYWRDb250cm9sbGVyIHtcbiAgICBwdWJsaWMgYnV0dG9uRnVuY3Rpb246IEZpbGVVcGxvYWRCdXR0b25zO1xuICAgIHB1YmxpYyB1cGxvYWRCdXR0b25zOiBCdXR0b25zVXBsb2FkW107XG4gICAgcHVibGljIGZhaWxCdXR0b25zOiBCdXR0b25zVXBsb2FkW107XG4gICAgcHVibGljIHN0YXJ0QnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xuXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuICAgIHB1YmxpYyBzdGF0ZTogc3RyaW5nO1xuICAgIHB1YmxpYyBwcm9ncmVzczogbnVtYmVyO1xuICAgIHB1YmxpYyBidXR0b25zOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcnJvcjogc3RyaW5nID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKCAkc2NvcGU6IG5nLklTY29wZSApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdCBwYXJhbWV0ZXJzXG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbkZ1bmN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEJ1dHRvbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmFpbEJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnQ2FuY2VsJywgY2xpY2s6ICgpID0+IHsgdGhpcy5vbkNhbmNlbCgpfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnUmV0cnknLCBjbGljazogKCkgPT4geyB0aGlzLm9uUmV0cnkoKX19XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnQWJvcnQnLCBjbGljazogKCkgPT4geyB0aGlzLm9uQWJvcnQoKSB9fVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxuICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IEZpbGVVcGxvYWRDaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLnN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gY2hhbmdlcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5wcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IGNoYW5nZXMucHJvZ3Jlc3MuY3VycmVudFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBjaGFuZ2VzLmVycm9yLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHVibGljIG9uQ2FuY2VsKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5idXR0b25GdW5jdGlvbi5jYW5jZWwpIHRoaXMuYnV0dG9uRnVuY3Rpb24uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uUmV0cnkoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbkZ1bmN0aW9uLnJldHJ5KSB0aGlzLmJ1dHRvbkZ1bmN0aW9uLnJldHJ5KCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uQWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbkZ1bmN0aW9uLmFib3J0KSB0aGlzLmJ1dHRvbkZ1bmN0aW9uLmFib3J0KCk7XG4gICAgfVxuXG59IiwiXG5pbXBvcnQge0ZpbGVVcGxvYWRDb250cm9sbGVyLCBGaWxlVXBsb2FkQnV0dG9uc30gZnJvbSAnLi9GaWxlVXBsb2FkQ29udHJvbGxlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVVcGxvYWRCaW5kaW5ncyB7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gICAgYnV0dG9uRnVuY3Rpb246IGFueSxcbiAgICBidXR0b25zOiBhbnksXG4gICAgZXJyb3I6IGFueSxcbiAgICBuYW1lOiBhbnksXG4gICAgc3RhdGU6IGFueSxcbiAgICB0eXBlOiBhbnksXG4gICAgcHJvZ3Jlc3M6IGFueVxufVxuXG5jb25zdCBGaWxlVXBsb2FkQmluZGluZ3M6IElGaWxlVXBsb2FkQmluZGluZ3MgPSB7XG4gICAgYnV0dG9uRnVuY3Rpb246ICc8P3BpcEJ1dHRvbkZ1bmN0aW9ucycsXG4gICAgYnV0dG9uczogJzw/cGlwQnV0dG9ucycsXG4gICAgZXJyb3I6ICc8P3BpcEVycm9yJyxcbiAgICBuYW1lOiAnPHBpcE5hbWUnLFxuICAgIHN0YXRlOiAnPHBpcFN0YXRlJyxcbiAgICB0eXBlOiAnPD9waXBUeXBlJyxcbiAgICBwcm9ncmVzczogJzxwaXBQcm9ncmVzcydcbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRDaGFuZ2VzIGltcGxlbWVudHMgbmcuSU9uQ2hhbmdlc09iamVjdCwgSUZpbGVVcGxvYWRCaW5kaW5ncyB7XG4gICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcbiAgICAvLyBOb3Qgb25lIHdheSBiaW5kaW5nc1xuXG4gICAgYnV0dG9uRnVuY3Rpb246IG5nLklDaGFuZ2VzT2JqZWN0PEZpbGVVcGxvYWRCdXR0b25zPjtcbiAgICBidXR0b25zOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICBlcnJvcjogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcbiAgICBuYW1lOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgIHN0YXRlOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgIHR5cGU6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XG4gICAgcHJvZ3Jlc3M6IG5nLklDaGFuZ2VzT2JqZWN0PG51bWJlcj47XG4gICAgLy9jdXJyZW50QnV0dG9uVmFsdWU6IGFueTtcbiAgICAvL2N1cnJlbnRCdXR0b246IGFueTtcbiAgICAvL2NoYW5nZTogbmcuSUNoYW5nZXNPYmplY3Q8KCkgPT4gbmcuSVByb21pc2U8dm9pZD4+O1xuICAgIC8vIE9uZSB3YXkgYmluZGluZ3Ncbn1cblxuY29uc3QgZmlsZVVwbG9hZERpcmVjdGl2ZSA9IHtcbiAgICBjb250cm9sbGVyOiBGaWxlVXBsb2FkQ29udHJvbGxlcixcbiAgICBiaW5kaW5nczogRmlsZVVwbG9hZEJpbmRpbmdzLFxuICAgIHRlbXBsYXRlVXJsOiAndXBsb2FkL0ZpbGVVcGxvYWQuaHRtbCdcbn07XG5cblxuKCgpID0+IHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMuRmlsZVVwbG9hZCcsIFtdKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBGaWxlVXBsb2FkJywgZmlsZVVwbG9hZERpcmVjdGl2ZSlcbiAgICAgICBcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlbGVjdC9GaWxlU2VsZWN0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGUtc2VsZWN0XCI+PGZvcm0gaWQ9XCJpbnBfZm9ybVwiIGNsYXNzPVwicGlwLWhpZGRlbi1mb3JtXCI+PGlucHV0IHR5cGU9XCJmaWxlXCIgZmlsZS1tb2RlbD1cInZtLmxvY2FsRmlsZVwiIGlkPVwiaW5wX2ZpbGVcIiBuZy1tb2RlbD1cInZtLmxvY2FsRmlsZVwiPjwvZm9ybT48bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkIG1kLWFjY2VudCBwaXAtYnV0dG9uXCIgbmctY2xpY2s9XCJ2bS5vblVwbG9hZEJ1dHRvbkNsaWNrKClcIiBuZy1pZj1cIiF2bS5sb2NhbEZpbGVcIj5DaG9vc2UgRmlsZTwvbWQtYnV0dG9uPjxkaXYgbmctaWY9XCJ2bS5sb2NhbEZpbGUubmFtZVwiIGNsYXNzPVwicGlwLWZpbGUgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpkb2N1bWVudFwiIGNsYXNzPVwicGlwLWljb25cIj48L21kLWljb24+PGRpdiBjbGFzcz1cImZsZXhcIj48ZGl2IGNsYXNzPVwidGV4dC1ib2R5MiB0ZXh0LW92ZXJmbG93XCI+e3t2bS5sb2NhbEZpbGUubmFtZX19PC9kaXY+PGRpdiBuZy1pZj1cInZtLmxvY2FsRmlsZS5zaXplXCIgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dFwiPnt7dm0ubG9jYWxGaWxlLnNpemV9fTwvZGl2PjwvZGl2PjxtZC1idXR0b24gbmctY2xpY2s9XCJ2bS5vbkRlbGV0ZUJ1dHRvbkNsaWNrKClcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpjcm9zcy1jaXJjbGVcIj48L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2ZhaWwvRmlsZUZhaWwuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZmlsZXMgcGlwLXByb2dyZXNzLWZpbGVzXCI+PGRpdiBjbGFzcz1cInBpcC1ib2R5IHBpcC1zY3JvbGwgcGlwLXByb2dyZXNzLWJvZHlcIj48ZGl2IGNsYXNzPVwibGF5b3V0LXJvd1wiPjxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtaWNvbiBjb2xvci1iYWRnZS1iZ1wiPjxtZC1pY29uIG1kLXN2Zy1pY29uPVwiaWNvbnM6Y3Jvc3NcIj48L21kLWljb24+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1wcm9ncmVzcy1jb250ZW50XCI+PGgzIGNsYXNzPVwicGlwLXRpdGxlXCI+VXBsb2FkaW5nIHt7dm0udHlwZX19IGZhaWxlZCB3aXRoIGVycm9ycyE8L2gzPjxkaXYgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dCBwaXAtc3VidGl0bGVcIj57e3ZtLm5hbWV9fTwvZGl2PjxkaXYgY2xhc3M9XCJjb2xvci1lcnJvciBwaXAtZXJyb3JcIj57e3ZtLmVycm9yfX08L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLWZvb3RlciBsYXlvdXQtcm93IGxheW91dC1hbGlnbi1lbmQtY2VudGVyXCIgbmctaWY9XCJ2bS5idXR0b25zICYmIHZtLmJ1dHRvbnMubGVuZ3RoID4gMFwiPjxkaXY+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWFjY2VudFwiIG5nLXJlcGVhdD1cImZhaWwgaW4gdm0uYnV0dG9uc1wiIG5nLWNsaWNrPVwiZmFpbC5jbGljaygpXCI+e3s6OmZhaWwudGl0bGV9fTwvbWQtYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzdWNjZXNzL0ZpbGVTdWNjZXNzLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGVzIHBpcC1wcm9ncmVzcy1maWxlc1wiPjxkaXYgY2xhc3M9XCJwaXAtYm9keSBwaXAtc2Nyb2xsIHBpcC1wcm9ncmVzcy1ib2R5XCI+PGRpdiBjbGFzcz1cImxheW91dC1yb3dcIj48ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWljb24gYmItZ3JlZW5cIj48bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNoZWNrXCI+PC9tZC1pY29uPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtY29udGVudFwiPjxoMyBjbGFzcz1cInBpcC10aXRsZVwiPlVwbG9hZGVkIHt7Ojp2bS50eXBlfX0gc3VjY2Vzc2Z1bGx5ITwvaDM+PGRpdiBjbGFzcz1cImNvbG9yLXNlY29uZGFyeS10ZXh0IHBpcC1zdWJ0aXRsZVwiPnt7dm0ubmFtZX19PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1mb290ZXIgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tZW5kLWNlbnRlclwiIG5nLWlmPVwidm0uYnV0dG9ucyAmJiB2bS5idXR0b25zLmxlbmd0aCA+IDBcIj48ZGl2PjxtZC1idXR0b24gY2xhc3M9XCJtZC1hY2NlbnRcIiBuZy1yZXBlYXQ9XCJzdGFydCBpbiB2bS5idXR0b25zXCIgbmctY2xpY2s9XCJzdGFydC5jbGljaygpXCI+e3tzdGFydC50aXRsZX19PC9tZC1idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3VwbG9hZC9GaWxlVXBsb2FkLmh0bWwnLFxuICAgICc8ZGl2PjxwaXAtc3VjY2VzLXVwbG9hZCBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ3VwbG9hZFxcJ1wiIHBpcC1uYW1lPVwiJGN0cmwubmFtZVwiIHBpcC10eXBlPVwiJGN0cmwudHlwZVwiIHBpcC1idXR0b25zPVwiJGN0cmwuYnV0dG9uc1wiPjwvcGlwLXN1Y2Nlcy11cGxvYWQ+PHBpcC1mYWlsLXVwbG9hZCBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ2ZhaWxcXCdcIiBwaXAtbmFtZT1cIiRjdHJsLm5hbWVcIiBwaXAtdHlwZT1cIiRjdHJsLnR5cGVcIiBwaXAtZXJyb3I9XCIkY3RybC5lcnJvclwiIHBpcC1idXR0b25zPVwiJGN0cmwuZmFpbEJ1dHRvbnNcIj48L3BpcC1mYWlsLXVwbG9hZD48cGlwLXN0YXJ0LXVwbG9hZCBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ3N0YXJ0XFwnXCIgcGlwLW5hbWU9XCIkY3RybC5uYW1lXCIgcGlwLXR5cGU9XCIkY3RybC50eXBlXCIgcGlwLXByb2dyZXNzPVwiJGN0cmwucHJvZ3Jlc3NcIiBwaXAtYnV0dG9ucz1cIiRjdHJsLnN0YXJ0QnV0dG9uc1wiPjwvcGlwLXN0YXJ0LXVwbG9hZD48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc3RhcnQvRmlsZVN0YXJ0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGVzIHBpcC1wcm9ncmVzcy1maWxlc1wiPjxkaXYgY2xhc3M9XCJwaXAtYm9keSBwaXAtc2Nyb2xsIHBpcC1wcm9ncmVzcy1ib2R5XCI+PGRpdiBjbGFzcz1cImxheW91dC1yb3dcIj48ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWljb24gYmItb3JhbmdlXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpwbGF5XCI+PC9tZC1pY29uPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtY29udGVudFwiPjxoMyBjbGFzcz1cInBpcC10aXRsZVwiPlVwbG9hZGluZyB7ezo6dm0udHlwZX19PC9oMz48ZGl2IGNsYXNzPVwiY29sb3Itc2Vjb25kYXJ5LXRleHQgcGlwLXN1YnRpdGxlXCI+e3t2bS5uYW1lfX08L2Rpdj48ZGl2PjxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgY2xhc3M9XCJtZC1hY2NlbnRcIiB2YWx1ZT1cInt7dm0ucHJvZ3Jlc3N9fVwiIG5nLWlmPVwidm0ucHJvZ3Jlc3MgPCAxMDBcIj48L21kLXByb2dyZXNzLWxpbmVhcj48bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCIgY2xhc3M9XCJtZC1hY2NlbnRcIiBuZy1pZj1cInZtLnByb2dyZXNzID09IDEwMFwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtZm9vdGVyIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLWVuZC1jZW50ZXJcIiBuZy1pZj1cInZtLmJ1dHRvbnNcIj48ZGl2PjxtZC1idXR0b24gY2xhc3M9XCJtZC1hY2NlbnRcIiBuZy1yZXBlYXQ9XCJzdGFydCBpbiB2bS5idXR0b25zXCIgbmctY2xpY2s9XCJzdGFydC5jbGljaygpXCI+e3tzdGFydC50aXRsZX19PC9tZC1idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXAtd2VidWktZmlsZXMtaHRtbC5taW4uanMubWFwXG4iXX0="}