{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/common/ButtonsUpload.ts","src/dependencies/Translate.ts","src/fail/FileFail.ts","src/index.ts","src/model/FileModel.ts","src/select/FileSelect.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/start/FileStart.ts","src/success/FileSuccess.ts","src/upload/FileUpload.ts","temp/pip-webui-files-html.js"],"names":[],"mappings":"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C,eAAe,EAAE,mBAAmB,CAAC,CAAA;AAExD,CAAC,CAAC,EAAE,CAAC;;AClIL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-webui-files.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export class ButtonsUpload {\r\n    public title: string;\r\n    public click: Function;\r\n}","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(() => {\r\n    'use strict';\r\n    function filerTranslate($injector: angular.auto.IInjectorService) {\r\n        let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key: string) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipFiles.Translate', [])\r\n        .filter('translate', filerTranslate);\r\n\r\n})();","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\n\r\ninterface IFileFailBindings {\r\n    [key: string]: any;\r\n\r\n    buttons: any,\r\n    name: any,\r\n    type: any,\r\n    error: any\r\n}\r\n\r\nconst FileFailBindings: IFileFailBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    error: '<pipError'\r\n}\r\n\r\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n}\r\n\r\n\r\ninterface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileFailController implements IFileFailController, IFileFailBindings {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n(() => {\r\n\r\n    const fileFailComponent: ng.IComponentOptions = {\r\n        controller: FileFailController,\r\n        bindings: FileFailBindings,\r\n        templateUrl: 'fail/FileFail.html'\r\n    };\r\n\r\n    angular\r\n        .module('pipFiles.FailUpload', [])\r\n        .component('pipFailUpload', fileFailComponent)\r\n\r\n\r\n})();","ï»¿\r\nimport './service/FileUploadService';\r\nimport './model/FileModel';\r\nimport './success/FileSuccess';\r\nimport './upload/FileUpload';\r\nimport './start/FileStart';\r\nimport './fail/FileFail';\r\nimport './select/FileSelect';\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFiles', [\r\n            'pipFiles.Service',\r\n            'pipFiles.Model',\r\n            'pipFiles.SuccessUpload',\r\n            'pipFiles.FileUpload',\r\n            'pipFiles.StartUpload',\r\n            'pipFiles.FailUpload',\r\n            'pipFiles.Select'\r\n        ])\r\n})();\r\n","\r\n(() => {\r\n    function fileModelLink(scope, element, attrs, $parse) {\r\n        let model = $parse(attrs.fileModel);\r\n        let modelSetter = model.assign;\r\n                \r\n        element.bind('change', () => {\r\n            scope.$apply(() => {\r\n                modelSetter(scope, element[0].files[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function fileModelDirective($parse: ng.IParseProvider) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \r\n                fileModelLink(scope, element, attrs, $parse) \r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipFiles.Model', [])\r\n        .directive('fileModel', fileModelDirective)\r\n\r\n\r\n})();","\r\n(() => {\r\n\r\n    interface IFileSelectController {\r\n        localFile: any;\r\n        onUploadButtonClick(): void;\r\n        onDeleteButtonClick(): void;\r\n    }\r\n\r\n    interface IFileSelectBindings {\r\n        [key: string]: any;\r\n\r\n        localFile: any,\r\n        change: any\r\n    }\r\n\r\n    const FileSelectBindings: IFileSelectBindings = {\r\n        localFile: '<pipLocalFile',\r\n        change: '<pipChange'\r\n    }\r\n\r\n    class FileSelectController implements IFileSelectController {\r\n        public localFile: any;\r\n        public change: Function;\r\n\r\n        constructor($scope: ng.IScope) {\r\n            \"ngInject\";\r\n            $scope.$watch('$ctrl.localFile', (item) => {\r\n                if (this.change) {\r\n                    this.change(this.localFile);\r\n                }\r\n            })\r\n        }\r\n\r\n        public onUploadButtonClick(): void {\r\n            $('#inp_file').click();\r\n        }\r\n\r\n        public onDeleteButtonClick(): void {\r\n            this.localFile = null;\r\n            let forml = document.getElementById('inp_form');\r\n            (<any>forml).reset();\r\n\r\n        }\r\n    }\r\n\r\n    const fileSelectDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        bindings: FileSelectBindings,\r\n        controller: FileSelectController,\r\n        templateUrl: 'select/FileSelect.html'\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Select', [])\r\n        .component('pipFileSelect', fileSelectDirective)\r\n\r\n\r\n})();\r\n","import { FileUploadState } from './FileUploadState';\r\nimport { IFileUploadService } from './IFileUploadService';\r\n\r\nclass FileUploadService implements IFileUploadService {\r\n\r\n    public constructor(private $http: ng.IHttpService) { }\r\n\r\n    public upload(\r\n           url: string,\r\n           file: any, \r\n           callback?: (data: any, err: any) => void, \r\n           changeProgress?: (progress: number) => void, \r\n           changeState?: (state: string) => void ): void {\r\n\r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n\r\n        if (changeProgress) {\r\n            changeProgress(0);\r\n        }\r\n        if (changeState) { \r\n            changeState(FileUploadState.Start);\r\n        }\r\n\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable && changeProgress) {\r\n                       changeProgress((e.loaded / e.total) * 100);\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })\r\n            .success((response: any) => {\r\n                changeState(FileUploadState.Upload);\r\n\r\n                if (callback) callback(response, null);\r\n            })\r\n            .error((response: any) => {\r\n                changeState(FileUploadState.Fail);\r\n\r\n                if (callback) callback(null, response.Error || response);\r\n            });\r\n    }\r\n}\r\n\r\n\r\n(() => {\r\n\r\n\r\n    angular\r\n        .module('pipFiles.Service', [])\r\n        .service('pipFileUpload', FileUploadService);\r\n\r\n\r\n})();","export class FileUploadState {\r\n    public static All: string[] = ['start', 'upload', 'fail'];\r\n    public static Start: string = 'start';\r\n    public static Upload: string = 'upload';\r\n    public static Fail: string = 'fail';\r\n}","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileStartBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any,\r\n    progress: any\r\n}\r\n\r\nconst FileStartBindings: IFileStartBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    progress: '<?pipProgress'\r\n};\r\n\r\n\r\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\ninterface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() { }\r\n\r\n    public $onChanges(changes: FileStartChanges) {\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n(() => {\r\n\r\n    const fileStartDirective = {\r\n        controller: FileStartController,\r\n        bindings: FileStartBindings,\r\n        templateUrl: 'start/FileStart.html'\r\n    };\r\n\r\n    angular\r\n        .module('pipFiles.StartUpload', [])\r\n        .component('pipStartUpload', fileStartDirective)\r\n\r\n\r\n})();\r\n","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n};\r\n\r\n\r\ninterface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}\r\n\r\n\r\n(() => {\r\n \r\n     const fileSuccessDirective = {\r\n            restrict: 'E',\r\n            replace: true,\r\n            controller: FileSuccessController,\r\n            controllerAs: 'vm',\r\n            bindings: FileSuccessBindings,\r\n            templateUrl: 'success/FileSuccess.html'\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipFiles.SuccessUpload', [])\r\n        .component('pipSuccesUpload', fileSuccessDirective)\r\n\r\n\r\n})();","\r\nimport {\r\n    IFileUploadService\r\n} from \"../service/IFileUploadService\";\r\n\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\nclass FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\ninterface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\ninterface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor( $scope: ng.IScope ) {}\r\n    \r\n    public $onInit() {\r\n         if (this.buttons) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                {title: 'Cancel', click: () => { this.onCancel()}},\r\n                {title: 'Retry', click: () => { this.onRetry()}}\r\n            ];\r\n            this.startButtons = [\r\n                {title: 'Abort', click: () => { this.onAbort() }}\r\n            ];\r\n        }\r\n    }\r\n    \r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}\r\n\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'upload/FileUpload.html'\r\n};\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFiles.FileUpload', [])\r\n        .component('pipFileUpload', fileUploadDirective)\r\n       \r\n})();","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon color-badge-bg\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:cross\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '                 <h3 class=\"pip-title\">\\n' +\n    '                Uploading {{$ctrl.type}} failed with errors!\\n' +\n    '            </h3>\\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{$ctrl.name}}\\n' +\n    '            </div>\\n' +\n    '            <div class=\"color-error pip-error\">\\n' +\n    '                 {{$ctrl.error}}\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\">\\n' +\n    '        <div>\\n' +\n    '           <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">\\n' +\n    '                {{::fail.title}}\\n' +\n    '            </md-button> \\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\">\\n' +\n    '      <form id=\"inp_form\" class=\"pip-hidden-form\">\\n' +\n    '        <input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></input>\\n' +\n    '      </form>\\n' +\n    '        <md-button class=\"md-raised md-accent pip-button\"\\n' +\n    '                   ng-click=\"$ctrl.onUploadButtonClick()\" \\n' +\n    '                   ng-if=\"!$ctrl.localFile\">Choose File</md-button>\\n' +\n    '        <div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\">\\n' +\n    '          <md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon>\\n' +\n    '            <div class=\"flex\">\\n' +\n    '                <div class=\"text-body2 text-overflow\">\\n' +\n    '                    {{$ctrl.localFile.name}}\\n' +\n    '                </div>\\n' +\n    '                <div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div>\\n' +\n    '            </div>\\n' +\n    '            <md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\">\\n' +\n    '              <md-icon md-svg-icon=\"icons:cross-circle\"></md-icon>\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon bb-orange\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:play\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '            <h3 class=\"pip-title\">\\n' +\n    '                Uploading {{::$ctrl.type}}\\n' +\n    '            </h3>\\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{$ctrl.name}}\\n' +\n    '            </div>\\n' +\n    '            <div>\\n' +\n    '                <md-progress-linear md-mode=\"determinate\" \\n' +\n    '                    class=\"md-accent\" \\n' +\n    '                    value=\"{{$ctrl.progress}}\" \\n' +\n    '                    ng-if=\"$ctrl.progress < 100\">\\n' +\n    '                </md-progress-linear>\\n' +\n    '                <md-progress-linear md-mode=\"indeterminate\" \\n' +\n    '                    class=\"md-accent\" \\n' +\n    '                    ng-if=\"$ctrl.progress == 100\">\\n' +\n    '                </md-progress-linear>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">\\n' +\n    '                {{start.title}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon bb-green\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:check\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '            <h3 class=\"pip-title\">\\n' +\n    '                Uploaded {{::vm.type}} successfully!\\n' +\n    '            </h3>\\n' +\n    '        \\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{vm.name}}\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\">\\n' +\n    '        <div>\\n' +\n    '           <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">\\n' +\n    '                {{start.title}}\\n' +\n    '            </md-button> \\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div>\\n' +\n    '    <pip-succes-upload \\n' +\n    '            ng-if=\"$ctrl.state == \\'upload\\' && (!$ctrl.buttons || $ctrl.uploadButtons)\"\\n' +\n    '            pip-name=\"$ctrl.name\" \\n' +\n    '            pip-type=\"$ctrl.type\" \\n' +\n    '            pip-buttons=\"$ctrl.uploadButtons\"></pip-succes-upload>\\n' +\n    '    <pip-fail-upload \\n' +\n    '            ng-if=\"$ctrl.state == \\'fail\\'\"\\n' +\n    '            pip-name=\"$ctrl.name\" \\n' +\n    '            pip-type=\"$ctrl.type\" \\n' +\n    '            pip-error=\"$ctrl.error\"\\n' +\n    '            pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload>\\n' +\n    '\\n' +\n    '    <pip-start-upload \\n' +\n    '            ng-if=\"$ctrl.state == \\'start\\'\"\\n' +\n    '            pip-name=\"$ctrl.name\" \\n' +\n    '            pip-type=\"$ctrl.type\" \\n' +\n    '            pip-progress=\"$ctrl.progress\"\\n' +\n    '            pip-buttons=\"$ctrl.startButtons\"></pip-start-upload>\\n' +\n    '</div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tbW9uL0J1dHRvbnNVcGxvYWQudHMiLCJzcmMvZGVwZW5kZW5jaWVzL1RyYW5zbGF0ZS50cyIsInNyYy9mYWlsL0ZpbGVGYWlsLnRzIiwic3JjL2luZGV4LnRzIiwic3JjL21vZGVsL0ZpbGVNb2RlbC50cyIsInNyYy9zZWxlY3QvRmlsZVNlbGVjdC50cyIsInNyYy9zZXJ2aWNlL0ZpbGVVcGxvYWRTZXJ2aWNlLnRzIiwic3JjL3NlcnZpY2UvRmlsZVVwbG9hZFN0YXRlLnRzIiwic3JjL3N0YXJ0L0ZpbGVTdGFydC50cyIsInNyYy9zdWNjZXNzL0ZpbGVTdWNjZXNzLnRzIiwic3JjL3VwbG9hZC9GaWxlVXBsb2FkLnRzIiwidGVtcC9waXAtd2VidWktZmlsZXMtaHRtbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7SUFBQTtJQUdBLENBQUM7SUFBRCxvQkFBQztBQUFELENBSEEsQUFHQyxJQUFBO0FBSFksc0NBQWE7O0FDTzFCLENBQUM7SUFDRyxZQUFZLENBQUM7SUFDYix3QkFBd0IsU0FBd0M7UUFDNUQsSUFBSSxZQUFZLEdBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7Y0FDL0MsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFM0MsTUFBTSxDQUFDLFVBQUMsR0FBVztZQUNmLE1BQU0sQ0FBQyxZQUFZLEdBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3BFLENBQUMsQ0FBQTtJQUNMLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsQ0FBQztTQUNuQyxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBRTdDLENBQUMsQ0FBQyxFQUFFLENBQUM7Ozs7QUNOTCxJQUFNLGdCQUFnQixHQUFzQjtJQUN4QyxPQUFPLEVBQUUsY0FBYztJQUN2QixJQUFJLEVBQUUsVUFBVTtJQUNoQixJQUFJLEVBQUUsV0FBVztJQUNqQixLQUFLLEVBQUUsV0FBVztDQUNyQixDQUFBO0FBRUQ7SUFBQTtJQU9BLENBQUM7SUFBRCxzQkFBQztBQUFELENBUEEsQUFPQyxJQUFBO0FBVUQ7SUFNSSw0QkFBWSxNQUFpQjtRQUN6QixVQUFVLENBQUM7UUFEZixpQkFRQztRQUhHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFVBQUMsS0FBYTtZQUNqQyxLQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFDTCx5QkFBQztBQUFELENBZkEsQUFlQyxJQUFBO0FBSUQsQ0FBQztJQUVHLElBQU0saUJBQWlCLEdBQXlCO1FBQzVDLFVBQVUsRUFBRSxrQkFBa0I7UUFDOUIsUUFBUSxFQUFFLGdCQUFnQjtRQUMxQixXQUFXLEVBQUUsb0JBQW9CO0tBQ3BDLENBQUM7SUFFRixPQUFPO1NBQ0YsTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUUsQ0FBQztTQUNqQyxTQUFTLENBQUMsZUFBZSxFQUFFLGlCQUFpQixDQUFDLENBQUE7QUFHdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs7OztBQ3RFTCx1Q0FBcUM7QUFDckMsNkJBQTJCO0FBQzNCLGlDQUErQjtBQUMvQiwrQkFBNkI7QUFDN0IsNkJBQTJCO0FBQzNCLDJCQUF5QjtBQUN6QiwrQkFBNkI7QUFFN0IsQ0FBQztJQUVHLE9BQU87U0FDRixNQUFNLENBQUMsVUFBVSxFQUFFO1FBQ2hCLGtCQUFrQjtRQUNsQixnQkFBZ0I7UUFDaEIsd0JBQXdCO1FBQ3hCLHFCQUFxQjtRQUNyQixzQkFBc0I7UUFDdEIscUJBQXFCO1FBQ3JCLGlCQUFpQjtLQUNwQixDQUFDLENBQUE7QUFDVixDQUFDLENBQUMsRUFBRSxDQUFDOztBQ3BCTCxDQUFDO0lBQ0csdUJBQXVCLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU07UUFDaEQsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwQyxJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBRS9CLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLEtBQUssQ0FBQyxNQUFNLENBQUM7Z0JBQ1QsV0FBVyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCw0QkFBNEIsTUFBeUI7UUFDakQsVUFBVSxDQUFDO1FBRVgsTUFBTSxDQUFDO1lBQ0gsUUFBUSxFQUFFLEdBQUc7WUFDYixJQUFJLEVBQUUsVUFBQyxLQUFnQixFQUFFLE9BQU8sRUFBRSxLQUFxQjtnQkFDbkQsYUFBYSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1lBQ2hELENBQUM7U0FDSixDQUFDO0lBQ04sQ0FBQztJQUdELE9BQU87U0FDRixNQUFNLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDO1NBQzVCLFNBQVMsQ0FBQyxXQUFXLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtBQUduRCxDQUFDLENBQUMsRUFBRSxDQUFDOztBQzdCTCxDQUFDO0lBZUcsSUFBTSxrQkFBa0IsR0FBd0I7UUFDNUMsU0FBUyxFQUFFLGVBQWU7UUFDMUIsTUFBTSxFQUFFLFlBQVk7S0FDdkIsQ0FBQTtJQUVEO1FBSUksOEJBQVksTUFBaUI7WUFDekIsVUFBVSxDQUFDO1lBRGYsaUJBT0M7WUFMRyxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLFVBQUMsSUFBSTtnQkFDbEMsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0JBQ2QsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2hDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUM7UUFFTSxrREFBbUIsR0FBMUI7WUFDSSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDM0IsQ0FBQztRQUVNLGtEQUFtQixHQUExQjtZQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3RCLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDMUMsS0FBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRXpCLENBQUM7UUFDTCwyQkFBQztJQUFELENBdkJBLEFBdUJDLElBQUE7SUFFRCxJQUFNLG1CQUFtQixHQUFHO1FBQ3hCLFFBQVEsRUFBRSxHQUFHO1FBQ2IsT0FBTyxFQUFFLElBQUk7UUFDYixRQUFRLEVBQUUsa0JBQWtCO1FBQzVCLFVBQVUsRUFBRSxvQkFBb0I7UUFDaEMsV0FBVyxFQUFFLHdCQUF3QjtLQUN4QyxDQUFBO0lBRUQsT0FBTztTQUNGLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLENBQUM7U0FDN0IsU0FBUyxDQUFDLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFBO0FBR3hELENBQUMsQ0FBQyxFQUFFLENBQUM7Ozs7QUMzREwscURBQW9EO0FBR3BEO0lBRUksMkJBQTJCLEtBQXNCO1FBQXRCLFVBQUssR0FBTCxLQUFLLENBQWlCO0lBQUksQ0FBQztJQUUvQyxrQ0FBTSxHQUFiLFVBQ08sR0FBVyxFQUNYLElBQVMsRUFDVCxRQUF3QyxFQUN4QyxjQUEyQyxFQUMzQyxXQUFxQztRQUV4QyxJQUFJLEVBQUUsR0FBYSxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXhCLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDakIsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2QsV0FBVyxDQUFDLGlDQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQU87WUFDMUIsbUJBQW1CLEVBQUU7Z0JBQ2pCLFFBQVEsRUFBRSxVQUFDLENBQU07b0JBQ2IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUM7d0JBQ3hDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUM5QyxDQUFDO2dCQUNMLENBQUM7YUFDSjtZQUNELE9BQU8sRUFBRSxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUU7U0FDekMsQ0FBQzthQUNHLE9BQU8sQ0FBQyxVQUFDLFFBQWE7WUFDbkIsV0FBVyxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFcEMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDO2dCQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDO2FBQ0QsS0FBSyxDQUFDLFVBQUMsUUFBYTtZQUNqQixXQUFXLENBQUMsaUNBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUVsQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDO1FBQzdELENBQUMsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUNMLHdCQUFDO0FBQUQsQ0ExQ0EsQUEwQ0MsSUFBQTtBQUdELENBQUM7SUFHRyxPQUFPO1NBQ0YsTUFBTSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQztTQUM5QixPQUFPLENBQUMsZUFBZSxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFHckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs7OztBQ3hETDtJQUFBO0lBS0EsQ0FBQztJQUFELHNCQUFDO0FBQUQsQ0FMQSxBQUtDO0FBSmlCLG1CQUFHLEdBQWEsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLHFCQUFLLEdBQVcsT0FBTyxDQUFDO0FBQ3hCLHNCQUFNLEdBQVcsUUFBUSxDQUFDO0FBQzFCLG9CQUFJLEdBQVcsTUFBTSxDQUFDO0FBSjNCLDBDQUFlOzs7Ozs7O0FDYzVCLElBQU0saUJBQWlCLEdBQXVCO0lBQzFDLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLElBQUksRUFBRSxVQUFVO0lBQ2hCLElBQUksRUFBRSxXQUFXO0lBQ2pCLFFBQVEsRUFBRSxlQUFlO0NBQzVCLENBQUM7QUFHRjtJQUFBO0lBT0EsQ0FBQztJQUFELHVCQUFDO0FBQUQsQ0FQQSxBQU9DLElBQUE7QUFVRDtJQU1JO1FBSk8sYUFBUSxHQUFXLENBQUMsQ0FBQztJQUlaLENBQUM7SUFFVix3Q0FBVSxHQUFqQixVQUFrQixPQUF5QjtRQUN2QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO1FBQ2xELENBQUM7SUFFTCxDQUFDO0lBRUwsMEJBQUM7QUFBRCxDQWZBLEFBZUMsSUFBQTtBQUdELENBQUM7SUFFRyxJQUFNLGtCQUFrQixHQUFHO1FBQ3ZCLFVBQVUsRUFBRSxtQkFBbUI7UUFDL0IsUUFBUSxFQUFFLGlCQUFpQjtRQUMzQixXQUFXLEVBQUUsc0JBQXNCO0tBQ3RDLENBQUM7SUFFRixPQUFPO1NBQ0YsTUFBTSxDQUFDLHNCQUFzQixFQUFFLEVBQUUsQ0FBQztTQUNsQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtBQUd4RCxDQUFDLENBQUMsRUFBRSxDQUFDOzs7O0FDekRMLElBQU0sbUJBQW1CLEdBQXlCO0lBQzlDLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLElBQUksRUFBRSxVQUFVO0lBQ2hCLElBQUksRUFBRSxXQUFXO0NBQ3BCLENBQUM7QUFTRjtJQUtJO1FBSE8sU0FBSSxHQUFXLE1BQU0sQ0FBQztJQUdkLENBQUM7SUFFVCwwQ0FBVSxHQUFqQixVQUFrQixPQUFPLElBQUcsQ0FBQztJQUNqQyw0QkFBQztBQUFELENBUkEsQUFRQyxJQUFBO0FBR0QsQ0FBQztJQUVJLElBQU0sb0JBQW9CLEdBQUc7UUFDdEIsUUFBUSxFQUFFLEdBQUc7UUFDYixPQUFPLEVBQUUsSUFBSTtRQUNiLFVBQVUsRUFBRSxxQkFBcUI7UUFDakMsWUFBWSxFQUFFLElBQUk7UUFDbEIsUUFBUSxFQUFFLG1CQUFtQjtRQUM3QixXQUFXLEVBQUUsMEJBQTBCO0tBQzlDLENBQUE7SUFHRCxPQUFPO1NBQ0YsTUFBTSxDQUFDLHdCQUF3QixFQUFFLEVBQUUsQ0FBQztTQUNwQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQTtBQUczRCxDQUFDLENBQUMsRUFBRSxDQUFDOzs7O0FDN0NMO0lBQUE7SUFJQSxDQUFDO0lBQUQsd0JBQUM7QUFBRCxDQUpBLEFBSUMsSUFBQTtBQXdCRCxJQUFNLGtCQUFrQixHQUF3QjtJQUM1QyxjQUFjLEVBQUUsc0JBQXNCO0lBQ3RDLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLEtBQUssRUFBRSxZQUFZO0lBQ25CLElBQUksRUFBRSxVQUFVO0lBQ2hCLEtBQUssRUFBRSxXQUFXO0lBQ2xCLElBQUksRUFBRSxXQUFXO0lBQ2pCLFFBQVEsRUFBRSxjQUFjO0NBQzNCLENBQUE7QUFFRDtJQUFBO0lBVUEsQ0FBQztJQUFELHdCQUFDO0FBQUQsQ0FWQSxBQVVDLElBQUE7QUFHRDtJQWFJLDhCQUFhLE1BQWlCO1FBRnZCLFVBQUssR0FBVyxJQUFJLENBQUM7SUFFTSxDQUFDO0lBRTVCLHNDQUFPLEdBQWQ7UUFBQSxpQkFXQztRQVZJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUc7Z0JBQ2YsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxjQUFRLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQSxDQUFBLENBQUMsRUFBQztnQkFDbEQsRUFBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFRLEtBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQSxDQUFBLENBQUMsRUFBQzthQUNuRCxDQUFDO1lBQ0YsSUFBSSxDQUFDLFlBQVksR0FBRztnQkFDaEIsRUFBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFRLEtBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQSxDQUFDLENBQUMsRUFBQzthQUNwRCxDQUFDO1FBQ04sQ0FBQztJQUNMLENBQUM7SUFFTSx5Q0FBVSxHQUFqQixVQUFrQixPQUEwQjtRQUN4QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDO1FBQzVDLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO1FBQ2xELENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDO1FBQzVDLENBQUM7SUFFTCxDQUFDO0lBRU0sdUNBQVEsR0FBZjtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDO1lBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNqRSxDQUFDO0lBRU0sc0NBQU8sR0FBZDtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO1lBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUMvRCxDQUFDO0lBRU0sc0NBQU8sR0FBZDtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO1lBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUMvRCxDQUFDO0lBRUwsMkJBQUM7QUFBRCxDQXZEQSxBQXVEQyxJQUFBO0FBR0QsSUFBTSxtQkFBbUIsR0FBRztJQUN4QixVQUFVLEVBQUUsb0JBQW9CO0lBQ2hDLFFBQVEsRUFBRSxrQkFBa0I7SUFDNUIsV0FBVyxFQUFFLHdCQUF3QjtDQUN4QyxDQUFDO0FBRUYsQ0FBQztJQUVHLE9BQU87U0FDRixNQUFNLENBQUMscUJBQXFCLEVBQUUsRUFBRSxDQUFDO1NBQ2pDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTtBQUV4RCxDQUFDLENBQUMsRUFBRSxDQUFDOztBQ2xJTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjbGFzcyBCdXR0b25zVXBsb2FkIHtcclxuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGNsaWNrOiBGdW5jdGlvbjtcclxufSIsIi8qKlxyXG4gKiBAZmlsZSBPcHRpb25hbCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHN0cmluZyByZXNvdXJjZXNcclxuICogQGNvcHlyaWdodCBEaWdpdGFsIExpdmluZyBTb2Z0d2FyZSBDb3JwLiAyMDE0LTIwMTZcclxuICovXHJcbiBcclxuLyogZ2xvYmFsIGFuZ3VsYXIgKi9cclxuXHJcbigoKSA9PiB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBmdW5jdGlvbiBmaWxlclRyYW5zbGF0ZSgkaW5qZWN0b3I6IGFuZ3VsYXIuYXV0by5JSW5qZWN0b3JTZXJ2aWNlKSB7XHJcbiAgICAgICAgbGV0IHBpcFRyYW5zbGF0ZTogYW55ID0gJGluamVjdG9yLmhhcygncGlwVHJhbnNsYXRlJykgXHJcbiAgICAgICAgICAgID8gJGluamVjdG9yLmdldCgncGlwVHJhbnNsYXRlJykgOiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXBUcmFuc2xhdGUgID8gcGlwVHJhbnNsYXRlLnRyYW5zbGF0ZShrZXkpIHx8IGtleSA6IGtleTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRyYW5zbGF0ZScsIFtdKVxyXG4gICAgICAgIC5maWx0ZXIoJ3RyYW5zbGF0ZScsIGZpbGVyVHJhbnNsYXRlKTtcclxuXHJcbn0pKCk7IiwiXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5cclxuaW50ZXJmYWNlIElGaWxlRmFpbEJpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuXHJcbiAgICBidXR0b25zOiBhbnksXHJcbiAgICBuYW1lOiBhbnksXHJcbiAgICB0eXBlOiBhbnksXHJcbiAgICBlcnJvcjogYW55XHJcbn1cclxuXHJcbmNvbnN0IEZpbGVGYWlsQmluZGluZ3M6IElGaWxlRmFpbEJpbmRpbmdzID0ge1xyXG4gICAgYnV0dG9uczogJzw/cGlwQnV0dG9ucycsXHJcbiAgICBuYW1lOiAnPHBpcE5hbWUnLFxyXG4gICAgdHlwZTogJzw/cGlwVHlwZScsXHJcbiAgICBlcnJvcjogJzxwaXBFcnJvcidcclxufVxyXG5cclxuY2xhc3MgRmlsZUZhaWxDaGFuZ2VzIGltcGxlbWVudHMgbmcuSU9uQ2hhbmdlc09iamVjdCwgSUZpbGVGYWlsQmluZGluZ3Mge1xyXG4gICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcclxuXHJcbiAgICBidXR0b25zOiBuZy5JQ2hhbmdlc09iamVjdDxCdXR0b25zVXBsb2FkW10+O1xyXG4gICAgZXJyb3I6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XHJcbiAgICBuYW1lOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xyXG4gICAgdHlwZTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBJRmlsZUZhaWxDb250cm9sbGVyIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGVycm9yOiBzdHJpbmc7XHJcbiAgICBidXR0b25zOiBCdXR0b25zVXBsb2FkW107XHJcbn1cclxuXHJcbmNsYXNzIEZpbGVGYWlsQ29udHJvbGxlciBpbXBsZW1lbnRzIElGaWxlRmFpbENvbnRyb2xsZXIsIElGaWxlRmFpbEJpbmRpbmdzIHtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGVycm9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlKSB7XHJcbiAgICAgICAgXCJuZ0luamVjdFwiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEluaXQgcGFyYW1ldGVyc1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2Vycm9yJywgKGVycm9yOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuKCgpID0+IHtcclxuXHJcbiAgICBjb25zdCBmaWxlRmFpbENvbXBvbmVudDogbmcuSUNvbXBvbmVudE9wdGlvbnMgPSB7XHJcbiAgICAgICAgY29udHJvbGxlcjogRmlsZUZhaWxDb250cm9sbGVyLFxyXG4gICAgICAgIGJpbmRpbmdzOiBGaWxlRmFpbEJpbmRpbmdzLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnZmFpbC9GaWxlRmFpbC5odG1sJ1xyXG4gICAgfTtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMuRmFpbFVwbG9hZCcsIFtdKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEZhaWxVcGxvYWQnLCBmaWxlRmFpbENvbXBvbmVudClcclxuXHJcblxyXG59KSgpOyIsIu+7v1xyXG5pbXBvcnQgJy4vc2VydmljZS9GaWxlVXBsb2FkU2VydmljZSc7XHJcbmltcG9ydCAnLi9tb2RlbC9GaWxlTW9kZWwnO1xyXG5pbXBvcnQgJy4vc3VjY2Vzcy9GaWxlU3VjY2Vzcyc7XHJcbmltcG9ydCAnLi91cGxvYWQvRmlsZVVwbG9hZCc7XHJcbmltcG9ydCAnLi9zdGFydC9GaWxlU3RhcnQnO1xyXG5pbXBvcnQgJy4vZmFpbC9GaWxlRmFpbCc7XHJcbmltcG9ydCAnLi9zZWxlY3QvRmlsZVNlbGVjdCc7XHJcblxyXG4oKCkgPT4ge1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdwaXBGaWxlcycsIFtcclxuICAgICAgICAgICAgJ3BpcEZpbGVzLlNlcnZpY2UnLFxyXG4gICAgICAgICAgICAncGlwRmlsZXMuTW9kZWwnLFxyXG4gICAgICAgICAgICAncGlwRmlsZXMuU3VjY2Vzc1VwbG9hZCcsXHJcbiAgICAgICAgICAgICdwaXBGaWxlcy5GaWxlVXBsb2FkJyxcclxuICAgICAgICAgICAgJ3BpcEZpbGVzLlN0YXJ0VXBsb2FkJyxcclxuICAgICAgICAgICAgJ3BpcEZpbGVzLkZhaWxVcGxvYWQnLFxyXG4gICAgICAgICAgICAncGlwRmlsZXMuU2VsZWN0J1xyXG4gICAgICAgIF0pXHJcbn0pKCk7XHJcbiIsIlxyXG4oKCkgPT4ge1xyXG4gICAgZnVuY3Rpb24gZmlsZU1vZGVsTGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsICRwYXJzZSkge1xyXG4gICAgICAgIGxldCBtb2RlbCA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICAgIGxldCBtb2RlbFNldHRlciA9IG1vZGVsLmFzc2lnbjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWxTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaWxlTW9kZWxEaXJlY3RpdmUoJHBhcnNlOiBuZy5JUGFyc2VQcm92aWRlcikge1xyXG4gICAgICAgIFwibmdJbmplY3RcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogKHNjb3BlOiBuZy5JU2NvcGUsIGVsZW1lbnQsIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4geyBcclxuICAgICAgICAgICAgICAgIGZpbGVNb2RlbExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCAkcGFyc2UpIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzLk1vZGVsJywgW10pXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJywgZmlsZU1vZGVsRGlyZWN0aXZlKVxyXG5cclxuXHJcbn0pKCk7IiwiXHJcbigoKSA9PiB7XHJcblxyXG4gICAgaW50ZXJmYWNlIElGaWxlU2VsZWN0Q29udHJvbGxlciB7XHJcbiAgICAgICAgbG9jYWxGaWxlOiBhbnk7XHJcbiAgICAgICAgb25VcGxvYWRCdXR0b25DbGljaygpOiB2b2lkO1xyXG4gICAgICAgIG9uRGVsZXRlQnV0dG9uQ2xpY2soKTogdm9pZDtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgSUZpbGVTZWxlY3RCaW5kaW5ncyB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xyXG5cclxuICAgICAgICBsb2NhbEZpbGU6IGFueSxcclxuICAgICAgICBjaGFuZ2U6IGFueVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IEZpbGVTZWxlY3RCaW5kaW5nczogSUZpbGVTZWxlY3RCaW5kaW5ncyA9IHtcclxuICAgICAgICBsb2NhbEZpbGU6ICc8cGlwTG9jYWxGaWxlJyxcclxuICAgICAgICBjaGFuZ2U6ICc8cGlwQ2hhbmdlJ1xyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIEZpbGVTZWxlY3RDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTZWxlY3RDb250cm9sbGVyIHtcclxuICAgICAgICBwdWJsaWMgbG9jYWxGaWxlOiBhbnk7XHJcbiAgICAgICAgcHVibGljIGNoYW5nZTogRnVuY3Rpb247XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlKSB7XHJcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcclxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubG9jYWxGaWxlJywgKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlKHRoaXMubG9jYWxGaWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvblVwbG9hZEJ1dHRvbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgICAgICAkKCcjaW5wX2ZpbGUnKS5jbGljaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uRGVsZXRlQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxGaWxlID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IGZvcm1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucF9mb3JtJyk7XHJcbiAgICAgICAgICAgICg8YW55PmZvcm1sKS5yZXNldCgpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsZVNlbGVjdERpcmVjdGl2ZSA9IHtcclxuICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgYmluZGluZ3M6IEZpbGVTZWxlY3RCaW5kaW5ncyxcclxuICAgICAgICBjb250cm9sbGVyOiBGaWxlU2VsZWN0Q29udHJvbGxlcixcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NlbGVjdC9GaWxlU2VsZWN0Lmh0bWwnXHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzLlNlbGVjdCcsIFtdKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEZpbGVTZWxlY3QnLCBmaWxlU2VsZWN0RGlyZWN0aXZlKVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsImltcG9ydCB7IEZpbGVVcGxvYWRTdGF0ZSB9IGZyb20gJy4vRmlsZVVwbG9hZFN0YXRlJztcclxuaW1wb3J0IHsgSUZpbGVVcGxvYWRTZXJ2aWNlIH0gZnJvbSAnLi9JRmlsZVVwbG9hZFNlcnZpY2UnO1xyXG5cclxuY2xhc3MgRmlsZVVwbG9hZFNlcnZpY2UgaW1wbGVtZW50cyBJRmlsZVVwbG9hZFNlcnZpY2Uge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlICRodHRwOiBuZy5JSHR0cFNlcnZpY2UpIHsgfVxyXG5cclxuICAgIHB1YmxpYyB1cGxvYWQoXHJcbiAgICAgICAgICAgdXJsOiBzdHJpbmcsXHJcbiAgICAgICAgICAgZmlsZTogYW55LCBcclxuICAgICAgICAgICBjYWxsYmFjaz86IChkYXRhOiBhbnksIGVycjogYW55KSA9PiB2b2lkLCBcclxuICAgICAgICAgICBjaGFuZ2VQcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkLCBcclxuICAgICAgICAgICBjaGFuZ2VTdGF0ZT86IChzdGF0ZTogc3RyaW5nKSA9PiB2b2lkICk6IHZvaWQge1xyXG5cclxuICAgICAgICBsZXQgZmQ6IEZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZmQuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VQcm9ncmVzcykge1xyXG4gICAgICAgICAgICBjaGFuZ2VQcm9ncmVzcygwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYW5nZVN0YXRlKSB7IFxyXG4gICAgICAgICAgICBjaGFuZ2VTdGF0ZShGaWxlVXBsb2FkU3RhdGUuU3RhcnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHVybCwgZmQsIDxhbnk+e1xyXG4gICAgICAgICAgICB1cGxvYWRFdmVudEhhbmRsZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogKGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmxlbmd0aENvbXB1dGFibGUgJiYgY2hhbmdlUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9ncmVzcygoZS5sb2FkZWQgLyBlLnRvdGFsKSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VTdGF0ZShGaWxlVXBsb2FkU3RhdGUuVXBsb2FkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHJlc3BvbnNlLCBudWxsKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmVycm9yKChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VTdGF0ZShGaWxlVXBsb2FkU3RhdGUuRmFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhudWxsLCByZXNwb25zZS5FcnJvciB8fCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuKCgpID0+IHtcclxuXHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzLlNlcnZpY2UnLCBbXSlcclxuICAgICAgICAuc2VydmljZSgncGlwRmlsZVVwbG9hZCcsIEZpbGVVcGxvYWRTZXJ2aWNlKTtcclxuXHJcblxyXG59KSgpOyIsImV4cG9ydCBjbGFzcyBGaWxlVXBsb2FkU3RhdGUge1xyXG4gICAgcHVibGljIHN0YXRpYyBBbGw6IHN0cmluZ1tdID0gWydzdGFydCcsICd1cGxvYWQnLCAnZmFpbCddO1xyXG4gICAgcHVibGljIHN0YXRpYyBTdGFydDogc3RyaW5nID0gJ3N0YXJ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgVXBsb2FkOiBzdHJpbmcgPSAndXBsb2FkJztcclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpbDogc3RyaW5nID0gJ2ZhaWwnO1xyXG59IiwiXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5pbnRlcmZhY2UgSUZpbGVTdGFydEJpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuXHJcbiAgICB0eXBlOiBhbnlcclxuICAgIGJ1dHRvbnM6IGFueSxcclxuICAgIG5hbWU6IGFueSxcclxuICAgIHByb2dyZXNzOiBhbnlcclxufVxyXG5cclxuY29uc3QgRmlsZVN0YXJ0QmluZGluZ3M6IElGaWxlU3RhcnRCaW5kaW5ncyA9IHtcclxuICAgIGJ1dHRvbnM6ICc8P3BpcEJ1dHRvbnMnLFxyXG4gICAgbmFtZTogJzxwaXBOYW1lJyxcclxuICAgIHR5cGU6ICc8P3BpcFR5cGUnLFxyXG4gICAgcHJvZ3Jlc3M6ICc8P3BpcFByb2dyZXNzJ1xyXG59O1xyXG5cclxuXHJcbmNsYXNzIEZpbGVTdGFydENoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJRmlsZVN0YXJ0QmluZGluZ3Mge1xyXG4gICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcclxuXHJcbiAgICBidXR0b25zOiBuZy5JQ2hhbmdlc09iamVjdDxCdXR0b25zVXBsb2FkW10+O1xyXG4gICAgbmFtZTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcclxuICAgIHR5cGU6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XHJcbiAgICBwcm9ncmVzczogbmcuSUNoYW5nZXNPYmplY3Q8bnVtYmVyPjtcclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBJRmlsZVN0YXJ0Q29udHJvbGxlciB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG59XHJcblxyXG5jbGFzcyBGaWxlU3RhcnRDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTdGFydENvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBwcm9ncmVzczogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogRmlsZVN0YXJ0Q2hhbmdlcykge1xyXG4gICAgICAgIGlmIChjaGFuZ2VzLnByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBjaGFuZ2VzLnByb2dyZXNzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbigoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgZmlsZVN0YXJ0RGlyZWN0aXZlID0ge1xyXG4gICAgICAgIGNvbnRyb2xsZXI6IEZpbGVTdGFydENvbnRyb2xsZXIsXHJcbiAgICAgICAgYmluZGluZ3M6IEZpbGVTdGFydEJpbmRpbmdzLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhcnQvRmlsZVN0YXJ0Lmh0bWwnXHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdwaXBGaWxlcy5TdGFydFVwbG9hZCcsIFtdKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcFN0YXJ0VXBsb2FkJywgZmlsZVN0YXJ0RGlyZWN0aXZlKVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIlxyXG5pbXBvcnQge1xyXG4gICAgQnV0dG9uc1VwbG9hZFxyXG59IGZyb20gXCIuLi9jb21tb24vQnV0dG9uc1VwbG9hZFwiO1xyXG5cclxuaW50ZXJmYWNlIElGaWxlU3VjY2Vzc0JpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuXHJcbiAgICB0eXBlOiBhbnlcclxuICAgIGJ1dHRvbnM6IGFueSxcclxuICAgIG5hbWU6IGFueVxyXG59XHJcblxyXG5jb25zdCBGaWxlU3VjY2Vzc0JpbmRpbmdzOiBJRmlsZVN1Y2Nlc3NCaW5kaW5ncyA9IHtcclxuICAgIGJ1dHRvbnM6ICc9P3BpcEJ1dHRvbnMnLFxyXG4gICAgbmFtZTogJz1waXBOYW1lJyxcclxuICAgIHR5cGU6ICc9P3BpcFR5cGUnLFxyXG59O1xyXG5cclxuXHJcbmludGVyZmFjZSBJRmlsZVN1Y2Nlc3NDb250cm9sbGVyIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcclxufVxyXG5cclxuY2xhc3MgRmlsZVN1Y2Nlc3NDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTdWNjZXNzQ29udHJvbGxlciwgSUZpbGVTdWNjZXNzQmluZGluZ3Mge1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmcgPSAnZmlsZSc7XHJcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBwdWJsaWMgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7fVxyXG59XHJcblxyXG5cclxuKCgpID0+IHtcclxuIFxyXG4gICAgIGNvbnN0IGZpbGVTdWNjZXNzRGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlU3VjY2Vzc0NvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgYmluZGluZ3M6IEZpbGVTdWNjZXNzQmluZGluZ3MsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3VjY2Vzcy9GaWxlU3VjY2Vzcy5odG1sJ1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMuU3VjY2Vzc1VwbG9hZCcsIFtdKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcFN1Y2Nlc1VwbG9hZCcsIGZpbGVTdWNjZXNzRGlyZWN0aXZlKVxyXG5cclxuXHJcbn0pKCk7IiwiXHJcbmltcG9ydCB7XHJcbiAgICBJRmlsZVVwbG9hZFNlcnZpY2VcclxufSBmcm9tIFwiLi4vc2VydmljZS9JRmlsZVVwbG9hZFNlcnZpY2VcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5jbGFzcyBGaWxlVXBsb2FkQnV0dG9ucyB7XHJcbiAgICByZXRyeTogRnVuY3Rpb247XHJcbiAgICBjYW5jZWw6IEZ1bmN0aW9uO1xyXG4gICAgYWJvcnQ6IEZ1bmN0aW9uO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUZpbGVVcGxvYWRDb250cm9sbGVyIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIHN0YXRlOiBzdHJpbmc7XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgb25DYW5jZWwoKTogdm9pZDtcclxuICAgIG9uUmV0cnkoKTogdm9pZDtcclxuICAgIG9uQWJvcnQoKTogdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIElGaWxlVXBsb2FkQmluZGluZ3Mge1xyXG4gICAgW2tleTogc3RyaW5nXTogYW55O1xyXG5cclxuICAgIGJ1dHRvbkZ1bmN0aW9uOiBhbnksXHJcbiAgICBidXR0b25zOiBhbnksXHJcbiAgICBlcnJvcjogYW55LFxyXG4gICAgbmFtZTogYW55LFxyXG4gICAgc3RhdGU6IGFueSxcclxuICAgIHR5cGU6IGFueSxcclxuICAgIHByb2dyZXNzOiBhbnlcclxufVxyXG5cclxuY29uc3QgRmlsZVVwbG9hZEJpbmRpbmdzOiBJRmlsZVVwbG9hZEJpbmRpbmdzID0ge1xyXG4gICAgYnV0dG9uRnVuY3Rpb246ICc8P3BpcEJ1dHRvbkZ1bmN0aW9ucycsXHJcbiAgICBidXR0b25zOiAnPD9waXBCdXR0b25zJyxcclxuICAgIGVycm9yOiAnPD9waXBFcnJvcicsXHJcbiAgICBuYW1lOiAnPHBpcE5hbWUnLFxyXG4gICAgc3RhdGU6ICc8cGlwU3RhdGUnLFxyXG4gICAgdHlwZTogJzw/cGlwVHlwZScsXHJcbiAgICBwcm9ncmVzczogJzxwaXBQcm9ncmVzcydcclxufVxyXG5cclxuY2xhc3MgRmlsZVVwbG9hZENoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJRmlsZVVwbG9hZEJpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XHJcblxyXG4gICAgYnV0dG9uRnVuY3Rpb246IG5nLklDaGFuZ2VzT2JqZWN0PEZpbGVVcGxvYWRCdXR0b25zPjtcclxuICAgIGJ1dHRvbnM6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xyXG4gICAgZXJyb3I6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XHJcbiAgICBuYW1lOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xyXG4gICAgc3RhdGU6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XHJcbiAgICB0eXBlOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xyXG4gICAgcHJvZ3Jlc3M6IG5nLklDaGFuZ2VzT2JqZWN0PG51bWJlcj47XHJcbn1cclxuXHJcblxyXG5jbGFzcyBGaWxlVXBsb2FkQ29udHJvbGxlciBpbXBsZW1lbnRzIElGaWxlVXBsb2FkQ29udHJvbGxlciwgSUZpbGVVcGxvYWRCaW5kaW5ncyB7XHJcbiAgICBwdWJsaWMgYnV0dG9uRnVuY3Rpb246IEZpbGVVcGxvYWRCdXR0b25zO1xyXG4gICAgcHVibGljIHVwbG9hZEJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcclxuICAgIHB1YmxpYyBmYWlsQnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG4gICAgcHVibGljIHN0YXJ0QnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG5cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHN0YXRlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcHJvZ3Jlc3M6IG51bWJlcjtcclxuICAgIHB1YmxpYyBidXR0b25zOiBib29sZWFuO1xyXG4gICAgcHVibGljIGVycm9yOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCAkc2NvcGU6IG5nLklTY29wZSApIHt9XHJcbiAgICBcclxuICAgIHB1YmxpYyAkb25Jbml0KCkge1xyXG4gICAgICAgICBpZiAodGhpcy5idXR0b25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBsb2FkQnV0dG9ucyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmZhaWxCdXR0b25zID0gW1xyXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnQ2FuY2VsJywgY2xpY2s6ICgpID0+IHsgdGhpcy5vbkNhbmNlbCgpfX0sXHJcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdSZXRyeScsIGNsaWNrOiAoKSA9PiB7IHRoaXMub25SZXRyeSgpfX1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdBYm9ydCcsIGNsaWNrOiAoKSA9PiB7IHRoaXMub25BYm9ydCgpIH19XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgJG9uQ2hhbmdlcyhjaGFuZ2VzOiBGaWxlVXBsb2FkQ2hhbmdlcykge1xyXG4gICAgICAgIGlmIChjaGFuZ2VzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBjaGFuZ2VzLnN0YXRlLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLnByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBjaGFuZ2VzLnByb2dyZXNzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBjaGFuZ2VzLmVycm9yLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkNhbmNlbCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5idXR0b25GdW5jdGlvbi5jYW5jZWwpIHRoaXMuYnV0dG9uRnVuY3Rpb24uY2FuY2VsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uUmV0cnkoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYnV0dG9uRnVuY3Rpb24ucmV0cnkpIHRoaXMuYnV0dG9uRnVuY3Rpb24ucmV0cnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25BYm9ydCgpIHtcclxuICAgICAgICBpZiAodGhpcy5idXR0b25GdW5jdGlvbi5hYm9ydCkgdGhpcy5idXR0b25GdW5jdGlvbi5hYm9ydCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGZpbGVVcGxvYWREaXJlY3RpdmUgPSB7XHJcbiAgICBjb250cm9sbGVyOiBGaWxlVXBsb2FkQ29udHJvbGxlcixcclxuICAgIGJpbmRpbmdzOiBGaWxlVXBsb2FkQmluZGluZ3MsXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3VwbG9hZC9GaWxlVXBsb2FkLmh0bWwnXHJcbn07XHJcblxyXG4oKCkgPT4ge1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdwaXBGaWxlcy5GaWxlVXBsb2FkJywgW10pXHJcbiAgICAgICAgLmNvbXBvbmVudCgncGlwRmlsZVVwbG9hZCcsIGZpbGVVcGxvYWREaXJlY3RpdmUpXHJcbiAgICAgICBcclxufSkoKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2ZhaWwvRmlsZUZhaWwuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZmlsZXMgcGlwLXByb2dyZXNzLWZpbGVzXCI+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1ib2R5IHBpcC1zY3JvbGwgcGlwLXByb2dyZXNzLWJvZHlcIj4gXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXJvd1wiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtaWNvbiBjb2xvci1iYWRnZS1iZ1wiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNyb3NzXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtY29udGVudFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInBpcC10aXRsZVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgVXBsb2FkaW5nIHt7JGN0cmwudHlwZX19IGZhaWxlZCB3aXRoIGVycm9ycyFcXG4nICtcbiAgICAnICAgICAgICAgICAgPC9oMz5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbG9yLXNlY29uZGFyeS10ZXh0IHBpcC1zdWJ0aXRsZVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAge3skY3RybC5uYW1lfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xvci1lcnJvciBwaXAtZXJyb3JcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICB7eyRjdHJsLmVycm9yfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgPC9kaXY+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1mb290ZXIgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tZW5kLWNlbnRlclwiIG5nLWlmPVwiJGN0cmwuYnV0dG9ucyAmJiAkY3RybC5idXR0b25zLmxlbmd0aCA+IDBcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJtZC1hY2NlbnRcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XCJmYWlsIGluICRjdHJsLmJ1dHRvbnNcIiBuZy1jbGljaz1cImZhaWwuY2xpY2soKVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAge3s6OmZhaWwudGl0bGV9fVxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWJ1dHRvbj4gXFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Rpdj4gIFxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VsZWN0L0ZpbGVTZWxlY3QuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZmlsZS1zZWxlY3RcIj5cXG4nICtcbiAgICAnICAgICAgPGZvcm0gaWQ9XCJpbnBfZm9ybVwiIGNsYXNzPVwicGlwLWhpZGRlbi1mb3JtXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgZmlsZS1tb2RlbD1cIiRjdHJsLmxvY2FsRmlsZVwiIGlkPVwiaW5wX2ZpbGVcIiBuZy1tb2RlbD1cIiRjdHJsLmxvY2FsRmlsZVwiPjwvaW5wdXQ+XFxuJyArXG4gICAgJyAgICAgIDwvZm9ybT5cXG4nICtcbiAgICAnICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkIG1kLWFjY2VudCBwaXAtYnV0dG9uXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwiJGN0cmwub25VcGxvYWRCdXR0b25DbGljaygpXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICBuZy1pZj1cIiEkY3RybC5sb2NhbEZpbGVcIj5DaG9vc2UgRmlsZTwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgbmctaWY9XCIkY3RybC5sb2NhbEZpbGUubmFtZVwiIGNsYXNzPVwicGlwLWZpbGUgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyXCI+XFxuJyArXG4gICAgJyAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmRvY3VtZW50XCIgY2xhc3M9XCJwaXAtaWNvblwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWJvZHkyIHRleHQtb3ZlcmZsb3dcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICB7eyRjdHJsLmxvY2FsRmlsZS5uYW1lfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGRpdiBuZy1pZj1cIiRjdHJsLmxvY2FsRmlsZS5zaXplXCIgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dFwiPnt7JGN0cmwubG9jYWxGaWxlLnNpemV9fTwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIiRjdHJsLm9uRGVsZXRlQnV0dG9uQ2xpY2soKVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNyb3NzLWNpcmNsZVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzdGFydC9GaWxlU3RhcnQuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZmlsZXMgcGlwLXByb2dyZXNzLWZpbGVzXCI+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1ib2R5IHBpcC1zY3JvbGwgcGlwLXByb2dyZXNzLWJvZHlcIj4gXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXJvd1wiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtaWNvbiBiYi1vcmFuZ2VcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpwbGF5XCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtY29udGVudFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8aDMgY2xhc3M9XCJwaXAtdGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIFVwbG9hZGluZyB7ezo6JGN0cmwudHlwZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvaDM+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dCBwaXAtc3VidGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHt7JGN0cmwubmFtZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kLWFjY2VudFwiIFxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwie3skY3RybC5wcm9ncmVzc319XCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgbmctaWY9XCIkY3RybC5wcm9ncmVzcyA8IDEwMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9tZC1wcm9ncmVzcy1saW5lYXI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZC1hY2NlbnRcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICBuZy1pZj1cIiRjdHJsLnByb2dyZXNzID09IDEwMFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9tZC1wcm9ncmVzcy1saW5lYXI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgPC9kaXY+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1mb290ZXIgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tZW5kLWNlbnRlclwiIG5nLWlmPVwiJGN0cmwuYnV0dG9uc1wiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJtZC1hY2NlbnRcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XCJzdGFydCBpbiAkY3RybC5idXR0b25zXCIgbmctY2xpY2s9XCJzdGFydC5jbGljaygpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICB7e3N0YXJ0LnRpdGxlfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L2Rpdj4gIFxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc3VjY2Vzcy9GaWxlU3VjY2Vzcy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInBpcC1maWxlcyBwaXAtcHJvZ3Jlc3MtZmlsZXNcIj5cXG4nICtcbiAgICAnICA8ZGl2IGNsYXNzPVwicGlwLWJvZHkgcGlwLXNjcm9sbCBwaXAtcHJvZ3Jlc3MtYm9keVwiPiBcXG4nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJsYXlvdXQtcm93XCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1wcm9ncmVzcy1pY29uIGJiLWdyZWVuXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiaWNvbnM6Y2hlY2tcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1wcm9ncmVzcy1jb250ZW50XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxoMyBjbGFzcz1cInBpcC10aXRsZVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgVXBsb2FkZWQge3s6OnZtLnR5cGV9fSBzdWNjZXNzZnVsbHkhXFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvaDM+XFxuJyArXG4gICAgJyAgICAgICAgXFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dCBwaXAtc3VidGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHt7dm0ubmFtZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgPC9kaXY+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1mb290ZXIgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tZW5kLWNlbnRlclwiIG5nLWlmPVwidm0uYnV0dG9ucyAmJiB2bS5idXR0b25zLmxlbmd0aCA+IDBcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJtZC1hY2NlbnRcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XCJzdGFydCBpbiB2bS5idXR0b25zXCIgbmctY2xpY2s9XCJzdGFydC5jbGljaygpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICB7e3N0YXJ0LnRpdGxlfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1idXR0b24+IFxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+ICBcXG4nICtcbiAgICAnPC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3VwbG9hZC9GaWxlVXBsb2FkLmh0bWwnLFxuICAgICc8ZGl2PlxcbicgK1xuICAgICcgICAgPHBpcC1zdWNjZXMtdXBsb2FkIFxcbicgK1xuICAgICcgICAgICAgICAgICBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ3VwbG9hZFxcJyAmJiAoISRjdHJsLmJ1dHRvbnMgfHwgJGN0cmwudXBsb2FkQnV0dG9ucylcIlxcbicgK1xuICAgICcgICAgICAgICAgICBwaXAtbmFtZT1cIiRjdHJsLm5hbWVcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgcGlwLXR5cGU9XCIkY3RybC50eXBlXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgIHBpcC1idXR0b25zPVwiJGN0cmwudXBsb2FkQnV0dG9uc1wiPjwvcGlwLXN1Y2Nlcy11cGxvYWQ+XFxuJyArXG4gICAgJyAgICA8cGlwLWZhaWwtdXBsb2FkIFxcbicgK1xuICAgICcgICAgICAgICAgICBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ2ZhaWxcXCdcIlxcbicgK1xuICAgICcgICAgICAgICAgICBwaXAtbmFtZT1cIiRjdHJsLm5hbWVcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgcGlwLXR5cGU9XCIkY3RybC50eXBlXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgIHBpcC1lcnJvcj1cIiRjdHJsLmVycm9yXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgcGlwLWJ1dHRvbnM9XCIkY3RybC5mYWlsQnV0dG9uc1wiPjwvcGlwLWZhaWwtdXBsb2FkPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgIDxwaXAtc3RhcnQtdXBsb2FkIFxcbicgK1xuICAgICcgICAgICAgICAgICBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ3N0YXJ0XFwnXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgcGlwLW5hbWU9XCIkY3RybC5uYW1lXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgIHBpcC10eXBlPVwiJGN0cmwudHlwZVwiIFxcbicgK1xuICAgICcgICAgICAgICAgICBwaXAtcHJvZ3Jlc3M9XCIkY3RybC5wcm9ncmVzc1wiXFxuJyArXG4gICAgJyAgICAgICAgICAgIHBpcC1idXR0b25zPVwiJGN0cmwuc3RhcnRCdXR0b25zXCI+PC9waXAtc3RhcnQtdXBsb2FkPlxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcC13ZWJ1aS1maWxlcy1odG1sLmpzLm1hcFxuIl19"}