{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/common/ButtonsUpload.ts","src/dependencies/translate.ts","src/fail/FileFailController.ts","src/fail/index.ts","src/files.ts","src/select/FileSelectController.ts","src/service/FileUploadService.ts","src/start/FileStartController.ts","src/start/index.ts","src/success/FileSuccessController.ts","src/success/index.ts","src/upload/FileUploadController.ts","src/upload/index.ts","temp/pip-webui-files-html.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-webui-files.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export class ButtonsUpload {\r\n    public title: string;\r\n    public click: Function;\r\n}","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(() => {\r\n    'use strict';\r\n    function filerTranslate($injector: angular.auto.IInjectorService) {\r\n        let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key: string) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipFiles.Translate', [])\r\n        .filter('translate', filerTranslate);\r\n\r\n})();","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\nexport interface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nexport class FileFailController implements IFileFailController {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        this.type = $scope['type'] || 'file';\r\n        this.name = $scope['name'];\r\n        this.buttons = $scope['buttons'] || null;\r\n        this.error = $scope['error'] || null;\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n      \r\n    }\r\n}","\r\nimport { FileFailController } from './FileFailController';\r\n\r\n(() => {\r\n\r\n    function fileFailDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            controller: FileFailController,\r\n            controllerAs: 'vm',\r\n            scope: {\r\n                buttons: '=?pipButtons',\r\n                name: '=pipName',\r\n                type: '=?pipType',\r\n                error: '=pipError'\r\n            },\r\n            templateUrl: 'fail/FileFail.html'\r\n        };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipFiles.FailUpload', [])\r\n        .directive('pipFailUpload', fileFailDirective)\r\n\r\n\r\n})();\r\n","﻿\r\nimport {FileSelectController} from './select/FileSelectController';\r\nimport {FileUploadService} from './service/FileUploadService';\r\n\r\nimport './success/index';\r\nimport './upload/index';\r\nimport './start/index';\r\nimport './fail/index';\r\n\r\n(() => {\r\n    function fileModelDirective($parse: any) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope, element, attrs) => {\r\n                let model = $parse(attrs.fileModel);\r\n                let modelSetter = model.assign;\r\n                \r\n                element.bind('change', () => {\r\n                    scope.$apply(() => {\r\n                        modelSetter(scope, element[0].files[0]);\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    function fileSelectDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            scope: {\r\n                localFile: '='\r\n            },\r\n            controller: FileSelectController,\r\n            controllerAs: 'vm',\r\n            templateUrl: 'select/FileSelect.html'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles', [\r\n            'pipFiles.SuccessUpload',\r\n            'pipFiles.FileUpload',\r\n            'pipFiles.StartUpload',\r\n            'pipFiles.FailUpload'\r\n        ])\r\n        .directive('fileModel', fileModelDirective)\r\n        .directive('pipFileSelect', fileSelectDirective)\r\n       //.directive('pipFailUpload', fileFailDirective)\r\n        .service('pipFileUpload', FileUploadService);\r\n\r\n\r\n})();\r\n","export interface IFileSelectController {\r\n    localFile: any;\r\n    onUploadButtonClick(): void ;\r\n    onDeleteButtonClick(): void;\r\n}\r\n\r\nexport class FileSelectController implements IFileSelectController {\r\n    public localFile: any;\r\n    \r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        this.localFile = $scope['localFile'];\r\n        $scope.$watch('vm.localFile', (item) => {\r\n            $scope['localFile'] = item;\r\n        }) \r\n    }\r\n\r\n    public onUploadButtonClick(): void {\r\n        $('#inp_file').click();\r\n    }\r\n\r\n    public onDeleteButtonClick(): void {\r\n        this.localFile = null;\r\n        let forml = document.getElementById('inp_form');\r\n        (<any>forml).reset();\r\n\r\n    }\r\n}","export class FileUploadState {\r\n    public static All: string[] = ['start', 'upload', 'fail'];\r\n    public static Start: string = 'start';\r\n    public static Upload: string = 'upload';\r\n    public static Fail: string = 'fail';\r\n}\r\n\r\nexport interface IFileUploadService {\r\n    progress: number;\r\n    state: string;\r\n    error: string;\r\n    upload(url: string, file: any, transaction: any, callback?: (data: any, err: any) => void): void;\r\n}\r\n\r\nexport class FileUploadService implements IFileUploadService {\r\n    public progress: number;\r\n    public state: string;\r\n    public error: string = null;\r\n\r\n    public constructor( private $http: ng.IHttpService) {}\r\n\r\n    public upload(url: string, file: any, callback?: (data: any, err: any) => void): void {\r\n        \r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n        \r\n        this.progress = 0;\r\n        this.state = FileUploadState.Start;\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable) {\r\n                        this.progress = (e.loaded / e.total) * 100;\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })    \r\n        .success((response: any) => {\r\n            this.state = FileUploadState.Upload;\r\n\r\n            if (callback) callback(response, null);\r\n        })    \r\n        .error((response: any) => {\r\n            this.state = FileUploadState.Fail;\r\n            this.error = response.Error || response;\r\n\r\n            if (callback) callback(null, response);\r\n        });\r\n    }\r\n}","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\nexport interface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nexport class FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n      \r\n        $scope.$watch('progress', (progress: number) => {\r\n            this.progress = progress;\r\n        })\r\n    }\r\n}","\r\nimport {FileStartController} from './FileStartController';\r\n\r\n(() => {\r\n \r\n    const fileStartDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        controller: FileStartController,\r\n        controllerAs: 'vm',\r\n        bindings: {\r\n            buttons: '=?pipButtons',\r\n            name: '=pipName',\r\n            type: '=?pipType',\r\n            progress: '=?pipProgress'\r\n        },\r\n        templateUrl: 'start/FileStart.html'\r\n    };\r\n\r\n    angular\r\n        .module('pipFiles.StartUpload', [])\r\n        .component('pipStartUpload', fileStartDirective)\r\n\r\n\r\n})();\r\n","\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\nimport { IFileSuccessBindings} from './index';\r\n\r\nexport interface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nexport class FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}","\r\nimport {FileSuccessController} from './FileSuccessController';\r\n\r\nexport interface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n};\r\n\r\n(() => {\r\n \r\n     const fileSuccessDirective = {\r\n            restrict: 'E',\r\n            replace: true,\r\n            controller: FileSuccessController,\r\n            controllerAs: 'vm',\r\n            bindings: FileSuccessBindings,\r\n            templateUrl: 'success/FileSuccess.html'\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipFiles.SuccessUpload', [])\r\n        .component('pipSuccesUpload', fileSuccessDirective)\r\n\r\n\r\n})();\r\n","\r\nimport {\r\n    IFileUploadService\r\n} from \"../service/FileUploadService\";\r\n\r\nimport {\r\n    ButtonsUpload\r\n} from \"../common/ButtonsUpload\";\r\n\r\nimport {\r\n    FileUploadChanges\r\n} from \"./index\";\r\n\r\nexport interface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\nexport class FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\nexport class FileUploadController implements IFileUploadController {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor( $scope: ng.IScope ) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        if (this.buttonFunction) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                {title: 'Cancel', click: () => { this.onCancel()}},\r\n                {title: 'Retry', click: () => { this.onRetry()}}\r\n            ];\r\n            this.startButtons = [\r\n                {title: 'Abort', click: () => { this.onAbort() }}\r\n            ];\r\n        }\r\n    }\r\n\r\n    \r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}","\r\nimport {FileUploadController, FileUploadButtons} from './FileUploadController';\r\n\r\nexport interface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nexport class FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n    //currentButtonValue: any;\r\n    //currentButton: any;\r\n    //change: ng.IChangesObject<() => ng.IPromise<void>>;\r\n    // One way bindings\r\n}\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'upload/FileUpload.html'\r\n};\r\n\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFiles.FileUpload', [])\r\n        .component('pipFileUpload', fileUploadDirective)\r\n       \r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon color-badge-bg\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:cross\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '                 <h3 class=\"pip-title\">\\n' +\n    '                Uploading {{vm.type}} failed with errors!\\n' +\n    '            </h3>\\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{vm.name}}\\n' +\n    '            </div>\\n' +\n    '            <div class=\"color-error pip-error\">\\n' +\n    '                 {{vm.error}}\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\">\\n' +\n    '        <div>\\n' +\n    '           <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"fail in vm.buttons\" ng-click=\"fail.click()\">\\n' +\n    '                {{::fail.title}}\\n' +\n    '            </md-button> \\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\">\\n' +\n    '      <form id=\"inp_form\" class=\"pip-hidden-form\">\\n' +\n    '        <input type=\"file\" file-model=\"vm.localFile\" id=\"inp_file\" ng-model=\"vm.localFile\"></input>\\n' +\n    '      </form>\\n' +\n    '        <md-button class=\"md-raised md-accent pip-button\"\\n' +\n    '                   ng-click=\"vm.onUploadButtonClick()\" \\n' +\n    '                   ng-if=\"!vm.localFile\">Choose File</md-button>\\n' +\n    '        <div ng-if=\"vm.localFile.name\" class=\"pip-file layout-row layout-align-start-center\">\\n' +\n    '          <md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon>\\n' +\n    '            <div class=\"flex\">\\n' +\n    '                <div class=\"text-body2 text-overflow\">\\n' +\n    '                    {{vm.localFile.name}}\\n' +\n    '                </div>\\n' +\n    '                <div ng-if=\"vm.localFile.size\" class=\"color-secondary-text\">{{vm.localFile.size}}</div>\\n' +\n    '            </div>\\n' +\n    '            <md-button ng-click=\"vm.onDeleteButtonClick()\" class=\"md-icon-button\">\\n' +\n    '              <md-icon md-svg-icon=\"icons:cross-circle\"></md-icon>\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon bb-orange\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:play\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '            <h3 class=\"pip-title\">\\n' +\n    '                Uploading {{::vm.type}}\\n' +\n    '            </h3>\\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{vm.name}}\\n' +\n    '            </div>\\n' +\n    '            <div>\\n' +\n    '                <md-progress-linear md-mode=\"determinate\" \\n' +\n    '                    class=\"md-accent\" \\n' +\n    '                    value=\"{{vm.progress}}\" \\n' +\n    '                    ng-if=\"vm.progress < 100\">\\n' +\n    '                </md-progress-linear>\\n' +\n    '                <md-progress-linear md-mode=\"indeterminate\" \\n' +\n    '                    class=\"md-accent\" \\n' +\n    '                    ng-if=\"vm.progress == 100\">\\n' +\n    '                </md-progress-linear>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">\\n' +\n    '                {{start.title}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\">\\n' +\n    '  <div class=\"pip-body pip-scroll pip-progress-body\"> \\n' +\n    '    <div class=\"layout-row\">\\n' +\n    '        <div class=\"pip-progress-icon bb-green\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:check\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-progress-content\">\\n' +\n    '            <h3 class=\"pip-title\">\\n' +\n    '                Uploaded {{::vm.type}} successfully!\\n' +\n    '            </h3>\\n' +\n    '        \\n' +\n    '            <div class=\"color-secondary-text pip-subtitle\">\\n' +\n    '                {{vm.name}}\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '  </div>\\n' +\n    '  <div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\">\\n' +\n    '        <div>\\n' +\n    '           <md-button class=\"md-accent\" \\n' +\n    '                       ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">\\n' +\n    '                {{start.title}}\\n' +\n    '            </md-button> \\n' +\n    '        </div>\\n' +\n    '    </div>  \\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div>\\n' +\n    '    <pip-succes-upload \\n' +\n    '        ng-if=\"$ctrl.state == \\'upload\\'\"\\n' +\n    '        pip-name=\"$ctrl.name\" \\n' +\n    '        pip-type=\"$ctrl.type\" \\n' +\n    '        pip-buttons=\"$ctrl.buttons\"></pip-succes-upload>\\n' +\n    '    <pip-fail-upload \\n' +\n    '        ng-if=\"$ctrl.state == \\'fail\\'\"\\n' +\n    '        pip-name=\"$ctrl.name\" \\n' +\n    '        pip-type=\"$ctrl.type\" \\n' +\n    '        pip-error=\"$ctrl.error\"\\n' +\n    '        pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload>\\n' +\n    '\\n' +\n    '<pip-start-upload \\n' +\n    '        ng-if=\"$ctrl.state == \\'start\\'\"\\n' +\n    '        pip-name=\"$ctrl.name\" \\n' +\n    '        pip-type=\"$ctrl.type\" \\n' +\n    '        pip-progress=\"$ctrl.progress\"\\n' +\n    '        pip-buttons=\"$ctrl.startButtons\"></pip-start-upload>\\n' +\n    '</div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tbW9uL0J1dHRvbnNVcGxvYWQudHMiLCJzcmMvZGVwZW5kZW5jaWVzL3RyYW5zbGF0ZS50cyIsInNyYy9mYWlsL0ZpbGVGYWlsQ29udHJvbGxlci50cyIsInNyYy9mYWlsL2luZGV4LnRzIiwic3JjL2ZpbGVzLnRzIiwic3JjL3NlbGVjdC9GaWxlU2VsZWN0Q29udHJvbGxlci50cyIsInNyYy9zZXJ2aWNlL0ZpbGVVcGxvYWRTZXJ2aWNlLnRzIiwic3JjL3N0YXJ0L0ZpbGVTdGFydENvbnRyb2xsZXIudHMiLCJzcmMvc3RhcnQvaW5kZXgudHMiLCJzcmMvc3VjY2Vzcy9GaWxlU3VjY2Vzc0NvbnRyb2xsZXIudHMiLCJzcmMvc3VjY2Vzcy9pbmRleC50cyIsInNyYy91cGxvYWQvRmlsZVVwbG9hZENvbnRyb2xsZXIudHMiLCJzcmMvdXBsb2FkL2luZGV4LnRzIiwidGVtcC9waXAtd2VidWktZmlsZXMtaHRtbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7SUFBQTtJQUdBLENBQUM7SUFBRCxvQkFBQztBQUFELENBSEEsQUFHQyxJQUFBO0FBSFksc0NBQWE7O0FDTzFCLENBQUM7SUFDRyxZQUFZLENBQUM7SUFDYix3QkFBd0IsU0FBd0M7UUFDNUQsSUFBSSxZQUFZLEdBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7Y0FDL0MsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFM0MsTUFBTSxDQUFDLFVBQUMsR0FBVztZQUNmLE1BQU0sQ0FBQyxZQUFZLEdBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3BFLENBQUMsQ0FBQTtJQUNMLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsQ0FBQztTQUNu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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjbGFzcyBCdXR0b25zVXBsb2FkIHtcclxuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGNsaWNrOiBGdW5jdGlvbjtcclxufSIsIi8qKlxyXG4gKiBAZmlsZSBPcHRpb25hbCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHN0cmluZyByZXNvdXJjZXNcclxuICogQGNvcHlyaWdodCBEaWdpdGFsIExpdmluZyBTb2Z0d2FyZSBDb3JwLiAyMDE0LTIwMTZcclxuICovXHJcbiBcclxuLyogZ2xvYmFsIGFuZ3VsYXIgKi9cclxuXHJcbigoKSA9PiB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBmdW5jdGlvbiBmaWxlclRyYW5zbGF0ZSgkaW5qZWN0b3I6IGFuZ3VsYXIuYXV0by5JSW5qZWN0b3JTZXJ2aWNlKSB7XHJcbiAgICAgICAgbGV0IHBpcFRyYW5zbGF0ZTogYW55ID0gJGluamVjdG9yLmhhcygncGlwVHJhbnNsYXRlJykgXHJcbiAgICAgICAgICAgID8gJGluamVjdG9yLmdldCgncGlwVHJhbnNsYXRlJykgOiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXBUcmFuc2xhdGUgID8gcGlwVHJhbnNsYXRlLnRyYW5zbGF0ZShrZXkpIHx8IGtleSA6IGtleTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRyYW5zbGF0ZScsIFtdKVxyXG4gICAgICAgIC5maWx0ZXIoJ3RyYW5zbGF0ZScsIGZpbGVyVHJhbnNsYXRlKTtcclxuXHJcbn0pKCk7IiwiXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlRmFpbENvbnRyb2xsZXIge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgZXJyb3I6IHN0cmluZztcclxuICAgIGJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVGYWlsQ29udHJvbGxlciBpbXBsZW1lbnRzIElGaWxlRmFpbENvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZXJyb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBidXR0b25zOiBCdXR0b25zVXBsb2FkW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoJHNjb3BlOiBuZy5JU2NvcGUpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgdGhpcy50eXBlID0gJHNjb3BlWyd0eXBlJ10gfHwgJ2ZpbGUnO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICRzY29wZVsnbmFtZSddO1xyXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9ICRzY29wZVsnYnV0dG9ucyddIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5lcnJvciA9ICRzY29wZVsnZXJyb3InXSB8fCBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2Vycm9yJywgKGVycm9yOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCB7IEZpbGVGYWlsQ29udHJvbGxlciB9IGZyb20gJy4vRmlsZUZhaWxDb250cm9sbGVyJztcclxuXHJcbigoKSA9PiB7XHJcblxyXG4gICAgZnVuY3Rpb24gZmlsZUZhaWxEaXJlY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogRmlsZUZhaWxDb250cm9sbGVyLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiAnPT9waXBCdXR0b25zJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICc9cGlwTmFtZScsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnPT9waXBUeXBlJyxcclxuICAgICAgICAgICAgICAgIGVycm9yOiAnPXBpcEVycm9yJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2ZhaWwvRmlsZUZhaWwuaHRtbCdcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMuRmFpbFVwbG9hZCcsIFtdKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcEZhaWxVcGxvYWQnLCBmaWxlRmFpbERpcmVjdGl2ZSlcclxuXHJcblxyXG59KSgpO1xyXG4iLCLvu79cclxuaW1wb3J0IHtGaWxlU2VsZWN0Q29udHJvbGxlcn0gZnJvbSAnLi9zZWxlY3QvRmlsZVNlbGVjdENvbnRyb2xsZXInO1xyXG5pbXBvcnQge0ZpbGVVcGxvYWRTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2UvRmlsZVVwbG9hZFNlcnZpY2UnO1xyXG5cclxuaW1wb3J0ICcuL3N1Y2Nlc3MvaW5kZXgnO1xyXG5pbXBvcnQgJy4vdXBsb2FkL2luZGV4JztcclxuaW1wb3J0ICcuL3N0YXJ0L2luZGV4JztcclxuaW1wb3J0ICcuL2ZhaWwvaW5kZXgnO1xyXG5cclxuKCgpID0+IHtcclxuICAgIGZ1bmN0aW9uIGZpbGVNb2RlbERpcmVjdGl2ZSgkcGFyc2U6IGFueSkge1xyXG4gICAgICAgIFwibmdJbmplY3RcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRycykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kZWxTZXR0ZXIgPSBtb2RlbC5hc3NpZ247XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaWxlU2VsZWN0RGlyZWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbEZpbGU6ICc9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlU2VsZWN0Q29udHJvbGxlcixcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NlbGVjdC9GaWxlU2VsZWN0Lmh0bWwnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMnLCBbXHJcbiAgICAgICAgICAgICdwaXBGaWxlcy5TdWNjZXNzVXBsb2FkJyxcclxuICAgICAgICAgICAgJ3BpcEZpbGVzLkZpbGVVcGxvYWQnLFxyXG4gICAgICAgICAgICAncGlwRmlsZXMuU3RhcnRVcGxvYWQnLFxyXG4gICAgICAgICAgICAncGlwRmlsZXMuRmFpbFVwbG9hZCdcclxuICAgICAgICBdKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsIGZpbGVNb2RlbERpcmVjdGl2ZSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBGaWxlU2VsZWN0JywgZmlsZVNlbGVjdERpcmVjdGl2ZSlcclxuICAgICAgIC8vLmRpcmVjdGl2ZSgncGlwRmFpbFVwbG9hZCcsIGZpbGVGYWlsRGlyZWN0aXZlKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdwaXBGaWxlVXBsb2FkJywgRmlsZVVwbG9hZFNlcnZpY2UpO1xyXG5cclxuXHJcbn0pKCk7XHJcbiIsImV4cG9ydCBpbnRlcmZhY2UgSUZpbGVTZWxlY3RDb250cm9sbGVyIHtcclxuICAgIGxvY2FsRmlsZTogYW55O1xyXG4gICAgb25VcGxvYWRCdXR0b25DbGljaygpOiB2b2lkIDtcclxuICAgIG9uRGVsZXRlQnV0dG9uQ2xpY2soKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVTZWxlY3RDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTZWxlY3RDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyBsb2NhbEZpbGU6IGFueTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoJHNjb3BlOiBuZy5JU2NvcGUpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcbiAgICAgICAgdGhpcy5sb2NhbEZpbGUgPSAkc2NvcGVbJ2xvY2FsRmlsZSddO1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3ZtLmxvY2FsRmlsZScsIChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICRzY29wZVsnbG9jYWxGaWxlJ10gPSBpdGVtO1xyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblVwbG9hZEJ1dHRvbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgICQoJyNpbnBfZmlsZScpLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRGVsZXRlQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2NhbEZpbGUgPSBudWxsO1xyXG4gICAgICAgIGxldCBmb3JtbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnBfZm9ybScpO1xyXG4gICAgICAgICg8YW55PmZvcm1sKS5yZXNldCgpO1xyXG5cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBGaWxlVXBsb2FkU3RhdGUge1xyXG4gICAgcHVibGljIHN0YXRpYyBBbGw6IHN0cmluZ1tdID0gWydzdGFydCcsICd1cGxvYWQnLCAnZmFpbCddO1xyXG4gICAgcHVibGljIHN0YXRpYyBTdGFydDogc3RyaW5nID0gJ3N0YXJ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgVXBsb2FkOiBzdHJpbmcgPSAndXBsb2FkJztcclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpbDogc3RyaW5nID0gJ2ZhaWwnO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlVXBsb2FkU2VydmljZSB7XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgc3RhdGU6IHN0cmluZztcclxuICAgIGVycm9yOiBzdHJpbmc7XHJcbiAgICB1cGxvYWQodXJsOiBzdHJpbmcsIGZpbGU6IGFueSwgdHJhbnNhY3Rpb246IGFueSwgY2FsbGJhY2s/OiAoZGF0YTogYW55LCBlcnI6IGFueSkgPT4gdm9pZCk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlVXBsb2FkU2VydmljZSBpbXBsZW1lbnRzIElGaWxlVXBsb2FkU2VydmljZSB7XHJcbiAgICBwdWJsaWMgcHJvZ3Jlc3M6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzdGF0ZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGVycm9yOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJpdmF0ZSAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlKSB7fVxyXG5cclxuICAgIHB1YmxpYyB1cGxvYWQodXJsOiBzdHJpbmcsIGZpbGU6IGFueSwgY2FsbGJhY2s/OiAoZGF0YTogYW55LCBlcnI6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBmZDogRm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmZC5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0gRmlsZVVwbG9hZFN0YXRlLlN0YXJ0O1xyXG4gICAgICAgIHRoaXMuJGh0dHAucG9zdCh1cmwsIGZkLCA8YW55PntcclxuICAgICAgICAgICAgdXBsb2FkRXZlbnRIYW5kbGVyczoge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IChlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAoZS5sb2FkZWQgLyBlLnRvdGFsKSAqIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9XHJcbiAgICAgICAgfSkgICAgXHJcbiAgICAgICAgLnN1Y2Nlc3MoKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEZpbGVVcGxvYWRTdGF0ZS5VcGxvYWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHJlc3BvbnNlLCBudWxsKTtcclxuICAgICAgICB9KSAgICBcclxuICAgICAgICAuZXJyb3IoKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEZpbGVVcGxvYWRTdGF0ZS5GYWlsO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzcG9uc2UuRXJyb3IgfHwgcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQge1xyXG4gICAgQnV0dG9uc1VwbG9hZFxyXG59IGZyb20gXCIuLi9jb21tb24vQnV0dG9uc1VwbG9hZFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVN0YXJ0Q29udHJvbGxlciB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVN0YXJ0Q29udHJvbGxlciBpbXBsZW1lbnRzIElGaWxlU3RhcnRDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGJ1dHRvbnM6IEJ1dHRvbnNVcGxvYWRbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigkc2NvcGU6IG5nLklTY29wZSkge1xyXG4gICAgICAgIFwibmdJbmplY3RcIjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJbml0IHBhcmFtZXRlcnNcclxuICAgICAgXHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgncHJvZ3Jlc3MnLCAocHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQge0ZpbGVTdGFydENvbnRyb2xsZXJ9IGZyb20gJy4vRmlsZVN0YXJ0Q29udHJvbGxlcic7XHJcblxyXG4oKCkgPT4ge1xyXG4gXHJcbiAgICBjb25zdCBmaWxlU3RhcnREaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IEZpbGVTdGFydENvbnRyb2xsZXIsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbnM6ICc9P3BpcEJ1dHRvbnMnLFxyXG4gICAgICAgICAgICBuYW1lOiAnPXBpcE5hbWUnLFxyXG4gICAgICAgICAgICB0eXBlOiAnPT9waXBUeXBlJyxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6ICc9P3BpcFByb2dyZXNzJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzdGFydC9GaWxlU3RhcnQuaHRtbCdcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEZpbGVzLlN0YXJ0VXBsb2FkJywgW10pXHJcbiAgICAgICAgLmNvbXBvbmVudCgncGlwU3RhcnRVcGxvYWQnLCBmaWxlU3RhcnREaXJlY3RpdmUpXHJcblxyXG5cclxufSkoKTtcclxuIiwiXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5pbXBvcnQgeyBJRmlsZVN1Y2Nlc3NCaW5kaW5nc30gZnJvbSAnLi9pbmRleCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlU3VjY2Vzc0NvbnRyb2xsZXIge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVN1Y2Nlc3NDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVTdWNjZXNzQ29udHJvbGxlciwgSUZpbGVTdWNjZXNzQmluZGluZ3Mge1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmcgPSAnZmlsZSc7XHJcbiAgICBwdWJsaWMgYnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBwdWJsaWMgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7fVxyXG59IiwiXHJcbmltcG9ydCB7RmlsZVN1Y2Nlc3NDb250cm9sbGVyfSBmcm9tICcuL0ZpbGVTdWNjZXNzQ29udHJvbGxlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlU3VjY2Vzc0JpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuXHJcbiAgICB0eXBlOiBhbnlcclxuICAgIGJ1dHRvbnM6IGFueSxcclxuICAgIG5hbWU6IGFueVxyXG59XHJcblxyXG5jb25zdCBGaWxlU3VjY2Vzc0JpbmRpbmdzOiBJRmlsZVN1Y2Nlc3NCaW5kaW5ncyA9IHtcclxuICAgIGJ1dHRvbnM6ICc9P3BpcEJ1dHRvbnMnLFxyXG4gICAgbmFtZTogJz1waXBOYW1lJyxcclxuICAgIHR5cGU6ICc9P3BpcFR5cGUnLFxyXG59O1xyXG5cclxuKCgpID0+IHtcclxuIFxyXG4gICAgIGNvbnN0IGZpbGVTdWNjZXNzRGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBGaWxlU3VjY2Vzc0NvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgYmluZGluZ3M6IEZpbGVTdWNjZXNzQmluZGluZ3MsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3VjY2Vzcy9GaWxlU3VjY2Vzcy5odG1sJ1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgncGlwRmlsZXMuU3VjY2Vzc1VwbG9hZCcsIFtdKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcFN1Y2Nlc1VwbG9hZCcsIGZpbGVTdWNjZXNzRGlyZWN0aXZlKVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIlxyXG5pbXBvcnQge1xyXG4gICAgSUZpbGVVcGxvYWRTZXJ2aWNlXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvRmlsZVVwbG9hZFNlcnZpY2VcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b25zVXBsb2FkXHJcbn0gZnJvbSBcIi4uL2NvbW1vbi9CdXR0b25zVXBsb2FkXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgRmlsZVVwbG9hZENoYW5nZXNcclxufSBmcm9tIFwiLi9pbmRleFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVVwbG9hZENvbnRyb2xsZXIge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgc3RhdGU6IHN0cmluZztcclxuICAgIHByb2dyZXNzOiBudW1iZXI7XHJcbiAgICBvbkNhbmNlbCgpOiB2b2lkO1xyXG4gICAgb25SZXRyeSgpOiB2b2lkO1xyXG4gICAgb25BYm9ydCgpOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZEJ1dHRvbnMge1xyXG4gICAgcmV0cnk6IEZ1bmN0aW9uO1xyXG4gICAgY2FuY2VsOiBGdW5jdGlvbjtcclxuICAgIGFib3J0OiBGdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRDb250cm9sbGVyIGltcGxlbWVudHMgSUZpbGVVcGxvYWRDb250cm9sbGVyIHtcclxuICAgIHB1YmxpYyBidXR0b25GdW5jdGlvbjogRmlsZVVwbG9hZEJ1dHRvbnM7XHJcbiAgICBwdWJsaWMgdXBsb2FkQnV0dG9uczogQnV0dG9uc1VwbG9hZFtdO1xyXG4gICAgcHVibGljIGZhaWxCdXR0b25zOiBCdXR0b25zVXBsb2FkW107XHJcbiAgICBwdWJsaWMgc3RhcnRCdXR0b25zOiBCdXR0b25zVXBsb2FkW107XHJcblxyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgc3RhdGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgcHVibGljIGJ1dHRvbnM6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXJyb3I6IHN0cmluZyA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoICRzY29wZTogbmcuSVNjb3BlICkge1xyXG4gICAgICAgIFwibmdJbmplY3RcIjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJbml0IHBhcmFtZXRlcnNcclxuICAgICAgICBpZiAodGhpcy5idXR0b25GdW5jdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLnVwbG9hZEJ1dHRvbnMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5mYWlsQnV0dG9ucyA9IFtcclxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ0NhbmNlbCcsIGNsaWNrOiAoKSA9PiB7IHRoaXMub25DYW5jZWwoKX19LFxyXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnUmV0cnknLCBjbGljazogKCkgPT4geyB0aGlzLm9uUmV0cnkoKX19XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCdXR0b25zID0gW1xyXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnQWJvcnQnLCBjbGljazogKCkgPT4geyB0aGlzLm9uQWJvcnQoKSB9fVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IEZpbGVVcGxvYWRDaGFuZ2VzKSB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGNoYW5nZXMuc3RhdGUuY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMucHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IGNoYW5nZXMucHJvZ3Jlc3MuY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IGNoYW5nZXMuZXJyb3IuY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQ2FuY2VsKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbkZ1bmN0aW9uLmNhbmNlbCkgdGhpcy5idXR0b25GdW5jdGlvbi5jYW5jZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25SZXRyeSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5idXR0b25GdW5jdGlvbi5yZXRyeSkgdGhpcy5idXR0b25GdW5jdGlvbi5yZXRyeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkFib3J0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbkZ1bmN0aW9uLmFib3J0KSB0aGlzLmJ1dHRvbkZ1bmN0aW9uLmFib3J0KCk7XHJcbiAgICB9XHJcblxyXG59IiwiXHJcbmltcG9ydCB7RmlsZVVwbG9hZENvbnRyb2xsZXIsIEZpbGVVcGxvYWRCdXR0b25zfSBmcm9tICcuL0ZpbGVVcGxvYWRDb250cm9sbGVyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVVcGxvYWRCaW5kaW5ncyB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcblxyXG4gICAgYnV0dG9uRnVuY3Rpb246IGFueSxcclxuICAgIGJ1dHRvbnM6IGFueSxcclxuICAgIGVycm9yOiBhbnksXHJcbiAgICBuYW1lOiBhbnksXHJcbiAgICBzdGF0ZTogYW55LFxyXG4gICAgdHlwZTogYW55LFxyXG4gICAgcHJvZ3Jlc3M6IGFueVxyXG59XHJcblxyXG5jb25zdCBGaWxlVXBsb2FkQmluZGluZ3M6IElGaWxlVXBsb2FkQmluZGluZ3MgPSB7XHJcbiAgICBidXR0b25GdW5jdGlvbjogJzw/cGlwQnV0dG9uRnVuY3Rpb25zJyxcclxuICAgIGJ1dHRvbnM6ICc8P3BpcEJ1dHRvbnMnLFxyXG4gICAgZXJyb3I6ICc8P3BpcEVycm9yJyxcclxuICAgIG5hbWU6ICc8cGlwTmFtZScsXHJcbiAgICBzdGF0ZTogJzxwaXBTdGF0ZScsXHJcbiAgICB0eXBlOiAnPD9waXBUeXBlJyxcclxuICAgIHByb2dyZXNzOiAnPHBpcFByb2dyZXNzJ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZENoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJRmlsZVVwbG9hZEJpbmRpbmdzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XHJcbiAgICAvLyBOb3Qgb25lIHdheSBiaW5kaW5nc1xyXG5cclxuICAgIGJ1dHRvbkZ1bmN0aW9uOiBuZy5JQ2hhbmdlc09iamVjdDxGaWxlVXBsb2FkQnV0dG9ucz47XHJcbiAgICBidXR0b25zOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcclxuICAgIGVycm9yOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xyXG4gICAgbmFtZTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcclxuICAgIHN0YXRlOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xyXG4gICAgdHlwZTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcclxuICAgIHByb2dyZXNzOiBuZy5JQ2hhbmdlc09iamVjdDxudW1iZXI+O1xyXG4gICAgLy9jdXJyZW50QnV0dG9uVmFsdWU6IGFueTtcclxuICAgIC8vY3VycmVudEJ1dHRvbjogYW55O1xyXG4gICAgLy9jaGFuZ2U6IG5nLklDaGFuZ2VzT2JqZWN0PCgpID0+IG5nLklQcm9taXNlPHZvaWQ+PjtcclxuICAgIC8vIE9uZSB3YXkgYmluZGluZ3NcclxufVxyXG5cclxuY29uc3QgZmlsZVVwbG9hZERpcmVjdGl2ZSA9IHtcclxuICAgIGNvbnRyb2xsZXI6IEZpbGVVcGxvYWRDb250cm9sbGVyLFxyXG4gICAgYmluZGluZ3M6IEZpbGVVcGxvYWRCaW5kaW5ncyxcclxuICAgIHRlbXBsYXRlVXJsOiAndXBsb2FkL0ZpbGVVcGxvYWQuaHRtbCdcclxufTtcclxuXHJcblxyXG4oKCkgPT4ge1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdwaXBGaWxlcy5GaWxlVXBsb2FkJywgW10pXHJcbiAgICAgICAgLmNvbXBvbmVudCgncGlwRmlsZVVwbG9hZCcsIGZpbGVVcGxvYWREaXJlY3RpdmUpXHJcbiAgICAgICBcclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdmYWlsL0ZpbGVGYWlsLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGVzIHBpcC1wcm9ncmVzcy1maWxlc1wiPlxcbicgK1xuICAgICcgIDxkaXYgY2xhc3M9XCJwaXAtYm9keSBwaXAtc2Nyb2xsIHBpcC1wcm9ncmVzcy1ib2R5XCI+IFxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cImxheW91dC1yb3dcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWljb24gY29sb3ItYmFkZ2UtYmdcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpjcm9zc1wiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWNvbnRlbnRcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJwaXAtdGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIFVwbG9hZGluZyB7e3ZtLnR5cGV9fSBmYWlsZWQgd2l0aCBlcnJvcnMhXFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvaDM+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xvci1zZWNvbmRhcnktdGV4dCBwaXAtc3VidGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHt7dm0ubmFtZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sb3ItZXJyb3IgcGlwLWVycm9yXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAge3t2bS5lcnJvcn19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICcgIDwvZGl2PlxcbicgK1xuICAgICcgIDxkaXYgY2xhc3M9XCJwaXAtZm9vdGVyIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLWVuZC1jZW50ZXJcIiBuZy1pZj1cInZtLmJ1dHRvbnMgJiYgdm0uYnV0dG9ucy5sZW5ndGggPiAwXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdj5cXG4nICtcbiAgICAnICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtYWNjZW50XCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgbmctcmVwZWF0PVwiZmFpbCBpbiB2bS5idXR0b25zXCIgbmctY2xpY2s9XCJmYWlsLmNsaWNrKClcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHt7OjpmYWlsLnRpdGxlfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1idXR0b24+IFxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+ICBcXG4nICtcbiAgICAnPC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlbGVjdC9GaWxlU2VsZWN0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGUtc2VsZWN0XCI+XFxuJyArXG4gICAgJyAgICAgIDxmb3JtIGlkPVwiaW5wX2Zvcm1cIiBjbGFzcz1cInBpcC1oaWRkZW4tZm9ybVwiPlxcbicgK1xuICAgICcgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGZpbGUtbW9kZWw9XCJ2bS5sb2NhbEZpbGVcIiBpZD1cImlucF9maWxlXCIgbmctbW9kZWw9XCJ2bS5sb2NhbEZpbGVcIj48L2lucHV0PlxcbicgK1xuICAgICcgICAgICA8L2Zvcm0+XFxuJyArXG4gICAgJyAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXJhaXNlZCBtZC1hY2NlbnQgcGlwLWJ1dHRvblwiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cInZtLm9uVXBsb2FkQnV0dG9uQ2xpY2soKVwiIFxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgbmctaWY9XCIhdm0ubG9jYWxGaWxlXCI+Q2hvb3NlIEZpbGU8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IG5nLWlmPVwidm0ubG9jYWxGaWxlLm5hbWVcIiBjbGFzcz1cInBpcC1maWxlIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLXN0YXJ0LWNlbnRlclwiPlxcbicgK1xuICAgICcgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpkb2N1bWVudFwiIGNsYXNzPVwicGlwLWljb25cIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1ib2R5MiB0ZXh0LW92ZXJmbG93XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAge3t2bS5sb2NhbEZpbGUubmFtZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxkaXYgbmctaWY9XCJ2bS5sb2NhbEZpbGUuc2l6ZVwiIGNsYXNzPVwiY29sb3Itc2Vjb25kYXJ5LXRleHRcIj57e3ZtLmxvY2FsRmlsZS5zaXplfX08L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJ2bS5vbkRlbGV0ZUJ1dHRvbkNsaWNrKClcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczpjcm9zcy1jaXJjbGVcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc3RhcnQvRmlsZVN0YXJ0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWZpbGVzIHBpcC1wcm9ncmVzcy1maWxlc1wiPlxcbicgK1xuICAgICcgIDxkaXYgY2xhc3M9XCJwaXAtYm9keSBwaXAtc2Nyb2xsIHBpcC1wcm9ncmVzcy1ib2R5XCI+IFxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cImxheW91dC1yb3dcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWljb24gYmItb3JhbmdlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiaWNvbnM6cGxheVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLXByb2dyZXNzLWNvbnRlbnRcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGgzIGNsYXNzPVwicGlwLXRpdGxlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICBVcGxvYWRpbmcge3s6OnZtLnR5cGV9fVxcbicgK1xuICAgICcgICAgICAgICAgICA8L2gzPlxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sb3Itc2Vjb25kYXJ5LXRleHQgcGlwLXN1YnRpdGxlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICB7e3ZtLm5hbWV9fVxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZC1hY2NlbnRcIiBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cInt7dm0ucHJvZ3Jlc3N9fVwiIFxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIG5nLWlmPVwidm0ucHJvZ3Jlc3MgPCAxMDBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiIFxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWQtYWNjZW50XCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgbmctaWY9XCJ2bS5wcm9ncmVzcyA9PSAxMDBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICcgIDwvZGl2PlxcbicgK1xuICAgICcgIDxkaXYgY2xhc3M9XCJwaXAtZm9vdGVyIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLWVuZC1jZW50ZXJcIiBuZy1pZj1cInZtLmJ1dHRvbnNcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtYWNjZW50XCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgbmctcmVwZWF0PVwic3RhcnQgaW4gdm0uYnV0dG9uc1wiIG5nLWNsaWNrPVwic3RhcnQuY2xpY2soKVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAge3tzdGFydC50aXRsZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+ICBcXG4nICtcbiAgICAnPC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBGaWxlcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3N1Y2Nlc3MvRmlsZVN1Y2Nlc3MuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZmlsZXMgcGlwLXByb2dyZXNzLWZpbGVzXCI+XFxuJyArXG4gICAgJyAgPGRpdiBjbGFzcz1cInBpcC1ib2R5IHBpcC1zY3JvbGwgcGlwLXByb2dyZXNzLWJvZHlcIj4gXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXJvd1wiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtaWNvbiBiYi1ncmVlblwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNoZWNrXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtcHJvZ3Jlc3MtY29udGVudFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8aDMgY2xhc3M9XCJwaXAtdGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIFVwbG9hZGVkIHt7Ojp2bS50eXBlfX0gc3VjY2Vzc2Z1bGx5IVxcbicgK1xuICAgICcgICAgICAgICAgICA8L2gzPlxcbicgK1xuICAgICcgICAgICAgIFxcbicgK1xuICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sb3Itc2Vjb25kYXJ5LXRleHQgcGlwLXN1YnRpdGxlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICB7e3ZtLm5hbWV9fVxcbicgK1xuICAgICcgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICcgIDwvZGl2PlxcbicgK1xuICAgICcgIDxkaXYgY2xhc3M9XCJwaXAtZm9vdGVyIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLWVuZC1jZW50ZXJcIiBuZy1pZj1cInZtLmJ1dHRvbnMgJiYgdm0uYnV0dG9ucy5sZW5ndGggPiAwXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdj5cXG4nICtcbiAgICAnICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtYWNjZW50XCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgbmctcmVwZWF0PVwic3RhcnQgaW4gdm0uYnV0dG9uc1wiIG5nLWNsaWNrPVwic3RhcnQuY2xpY2soKVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAge3tzdGFydC50aXRsZX19XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtYnV0dG9uPiBcXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PiAgXFxuJyArXG4gICAgJzwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEZpbGVzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwRmlsZXMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCd1cGxvYWQvRmlsZVVwbG9hZC5odG1sJyxcbiAgICAnPGRpdj5cXG4nICtcbiAgICAnICAgIDxwaXAtc3VjY2VzLXVwbG9hZCBcXG4nICtcbiAgICAnICAgICAgICBuZy1pZj1cIiRjdHJsLnN0YXRlID09IFxcJ3VwbG9hZFxcJ1wiXFxuJyArXG4gICAgJyAgICAgICAgcGlwLW5hbWU9XCIkY3RybC5uYW1lXCIgXFxuJyArXG4gICAgJyAgICAgICAgcGlwLXR5cGU9XCIkY3RybC50eXBlXCIgXFxuJyArXG4gICAgJyAgICAgICAgcGlwLWJ1dHRvbnM9XCIkY3RybC5idXR0b25zXCI+PC9waXAtc3VjY2VzLXVwbG9hZD5cXG4nICtcbiAgICAnICAgIDxwaXAtZmFpbC11cGxvYWQgXFxuJyArXG4gICAgJyAgICAgICAgbmctaWY9XCIkY3RybC5zdGF0ZSA9PSBcXCdmYWlsXFwnXCJcXG4nICtcbiAgICAnICAgICAgICBwaXAtbmFtZT1cIiRjdHJsLm5hbWVcIiBcXG4nICtcbiAgICAnICAgICAgICBwaXAtdHlwZT1cIiRjdHJsLnR5cGVcIiBcXG4nICtcbiAgICAnICAgICAgICBwaXAtZXJyb3I9XCIkY3RybC5lcnJvclwiXFxuJyArXG4gICAgJyAgICAgICAgcGlwLWJ1dHRvbnM9XCIkY3RybC5mYWlsQnV0dG9uc1wiPjwvcGlwLWZhaWwtdXBsb2FkPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPHBpcC1zdGFydC11cGxvYWQgXFxuJyArXG4gICAgJyAgICAgICAgbmctaWY9XCIkY3RybC5zdGF0ZSA9PSBcXCdzdGFydFxcJ1wiXFxuJyArXG4gICAgJyAgICAgICAgcGlwLW5hbWU9XCIkY3RybC5uYW1lXCIgXFxuJyArXG4gICAgJyAgICAgICAgcGlwLXR5cGU9XCIkY3RybC50eXBlXCIgXFxuJyArXG4gICAgJyAgICAgICAgcGlwLXByb2dyZXNzPVwiJGN0cmwucHJvZ3Jlc3NcIlxcbicgK1xuICAgICcgICAgICAgIHBpcC1idXR0b25zPVwiJGN0cmwuc3RhcnRCdXR0b25zXCI+PC9waXAtc3RhcnQtdXBsb2FkPlxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcC13ZWJ1aS1maWxlcy1odG1sLmpzLm1hcFxuIl19"}