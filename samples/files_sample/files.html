<div class="flex" ng-if="!onGlobalProgress()">
    <pip-file-select local-file="localFile"></pip-file-upload>
</div>
<div class="flex" style='border: 1px solid rgba(0, 0, 0, 0.12);' ng-if="onGlobalProgress()">
      <pip-file-progress  
            pip-state="onGlobalProgress()"
            pip-progress="onLocalProgress()"
            pip-cancel="cancel" 
            pip-retry="onOk" 
            pip-name="localFile.name"> </pip-file-progress>
</div>

<md-button ng-click="onOk()">
    Upload
</md-button>

<div>
    {{message}}
</div>