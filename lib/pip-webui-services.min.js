!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).services=t()}}(function(){return function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),t("./translate"),t("./session"),t("./transactions"),t("./routing"),t("./utilities"),angular.module("pipServices",["pipTranslate","pipSession","pipTransaction","pipRouting","pipFormat","pipTimer","pipScroll","pipTags","pipCodes","pipSystemInfo","pipPageReset"]),r(t("./translate")),r(t("./session")),r(t("./transactions")),r(t("./routing"))},{"./routing":5,"./session":8,"./transactions":13,"./translate":18,"./utilities":26}],2:[function(t,e,n){"use strict";function r(t){"ngInject";t.$on("$stateChangeSuccess",function(t,e,r,o,i){n.CurrentState={name:e.name,url:e.url,params:r},n.PreviousState={name:o.name,url:o.url,params:i}})}function o(t,e){"ngInject";function r(){e.history.back()}function o(r){if(null!=n.PreviousState&&null!=n.PreviousState.name){var o=_.cloneDeep(n.PreviousState);o.params=_.extend(o.params,r),t.go(o.name,o.params)}else e.history.back()}return t.goBack=r,t.goBackAndSelect=o,t}function i(t){t.decorator("$state",o)}r.$inject=["$rootScope"],o.$inject=["$delegate","$window"],i.$inject=["$provide"],Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipRouting").config(i).run(r)},{}],3:[function(t,e,n){function r(t){"ngInject";function e(t,e){return a[t]=e,this}return t.redirect=e,t}function o(t){"ngInject";t.decorator("$state",r)}function i(t,e){"ngInject";function n(n,r,o){var i=a[r.name];if(_.isFunction(i)&&(i=i(r.name,o),_.isNull(i)))throw new Error("Redirected toState cannot be null");return!!i&&(e(function(){n.preventDefault(),t.transitionTo(i,o,{location:"replace"})}),!0)}return t.redirect=n,t}function s(t){"ngInject";t.decorator("$state",i)}r.$inject=["$delegate"],o.$inject=["$provide"],i.$inject=["$delegate","$timeout"],s.$inject=["$provide"];var a={};angular.module("pipRouting").config(o).config(s)},{}],4:[function(t,e,n){"use strict";function r(t,e,r){"ngInject";t.$on("$stateChangeStart",function(e,r,o,i,s){t[n.RoutingVar]=!0}),t.$on("$stateChangeSuccess",function(e,r,o,i,s){t[n.RoutingVar]=!1}),t.$on("$stateChangeError",function(r,o,i,s,a,u){t[n.RoutingVar]=!1,e.error("Error while switching route to "+o.name),e.error(u)})}r.$inject=["$rootScope","$log","$state"],Object.defineProperty(n,"__esModule",{value:!0}),n.RoutingVar="$routing",angular.module("pipRouting").run(r)},{}],5:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipRouting",["ui.router"]),t("./BackDecorator"),t("./RedirectDecorator"),t("./RoutingEvents"),r(t("./BackDecorator")),r(t("./RoutingEvents"))},{"./BackDecorator":2,"./RedirectDecorator":3,"./RoutingEvents":4}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.IdentityRootVar="$identity",n.IdentityChangedEvent="pipIdentityChanged";var r=function(){function t(t,e,n,r){this._setRootVar=t,this._identity=e,this._rootScope=n,this._log=r,this.setRootVar()}return t.prototype.setRootVar=function(){this._setRootVar&&(this._rootScope[n.IdentityRootVar]=this._identity)},Object.defineProperty(t.prototype,"identity",{get:function(){return this._identity},set:function(t){this._identity=t,this.setRootVar(),this._rootScope.$emit(n.IdentityChangedEvent,this._identity);var e=t||{};this._log.debug("Changed identity to "+JSON.stringify(e))},enumerable:!0,configurable:!0}),t}(),o=function(){function t(){this._setRootVar=!0,this._identity=null,this._service=null}return Object.defineProperty(t.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identity",{get:function(){return this._identity},set:function(t){this._identity=t},enumerable:!0,configurable:!0}),t.prototype.$get=["$rootScope","$log",function(t,e){"ngInject";return null==this._service&&(this._service=new r(this._setRootVar,this._identity,t,e)),this._service}],t}();angular.module("pipSession").provider("pipIdentity",o)},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SessionRootVar="$session",n.SessionOpenedEvent="pipSessionOpened",n.SessionClosedEvent="pipSessionClosed";var r=function(){function t(t,e,n,r){this._setRootVar=t,this._session=e,this._rootScope=n,this._log=r,this.setRootVar()}return t.prototype.setRootVar=function(){this._setRootVar&&(this._rootScope[n.SessionRootVar]=this._session)},Object.defineProperty(t.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),t.prototype.isOpened=function(){return null!=this._session},t.prototype.open=function(t,e,r){if(void 0===e&&(e=!1),void 0===r&&(r=!1),null==t)throw new Error("Session cannot be null");this._session=t,this.setRootVar(),this._rootScope.$emit(n.SessionOpenedEvent,t),this._log.debug("Opened session "+t)},t.prototype.close=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var r=this._session;this._session=null,this.setRootVar(),this._rootScope.$emit(n.SessionClosedEvent,r),this._log.debug("Closed session "+r)},t}(),o=function(){function t(){this._setRootVar=!0,this._session=null,this._service=null}return Object.defineProperty(t.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"session",{get:function(){return this._session},set:function(t){this._session=t},enumerable:!0,configurable:!0}),t.prototype.$get=["$rootScope","$log",function(t,e){"ngInject";return null==this._service&&(this._service=new r(this._setRootVar,this._session,t,e)),this._service}],t}();angular.module("pipSession").provider("pipSession",o)},{}],8:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipSession",[]),t("./IdentityService"),t("./SessionService"),r(t("./IdentityService")),r(t("./SessionService"))},{"./IdentityService":6,"./SessionService":7}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./TransactionError"),o=function(){function t(t){this._scope=null,this._id=null,this._operation=null,this._error=new r.TransactionError,this._progress=0,this._scope=t}return Object.defineProperty(t.prototype,"scope",{get:function(){return this._scope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._operation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorMessage",{get:function(){return this._error.message},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._id=null,this._operation=null,this._progress=0,this._error.reset()},t.prototype.busy=function(){return null!=this._id},t.prototype.failed=function(){return!this._error.empty()},t.prototype.aborted=function(t){return this._id!=t},t.prototype.begin=function(t){return null!=this._id?null:(this._id=(new Date).getTime().toString(),this._operation=t||"PROCESSING",this._error.reset(),this._id)},t.prototype.update=function(t){this._progress=Math.max(t,100)},t.prototype.abort=function(){this._id=null,this._error.reset()},t.prototype.end=function(t){this._error.decode(t),this._id=null},t}();n.Transaction=o},{"./TransactionError":10}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t){null!=t&&this.decode(t)}return t.prototype.reset=function(){this.code=null,this.message=null,this.details=null,this.cause=null,this.stack_trace=null},t.prototype.empty=function(){return this.message=null},t.prototype.decode=function(t){this.reset(),null!=t&&(t.message&&(this.message=t.message),t.data&&(t.data.code&&(this.message=this.message||"ERROR_"+t.data.code,this.code=this.code||t.data.code),t.data.message&&(this.message=this.message||t.data.message),this.message=this.message||t.data,this.details=this.details||t.data,this.cause=t.data.cause,this.stack_trace=t.data.stack_trace,this.details=t.data.details),t.statusText&&(this.message=this.message||t.statusText),t.status&&(this.message=this.message||"ERROR_"+t.status,this.code=this.code||t.status),this.message=this.message||t,this.details=this.details||t)},t}();n.TransactionError=r},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Transaction"),o=function(){function t(){this._transactions={}}return t.prototype.create=function(t){var e=new r.Transaction(t);return null!=t&&(this._transactions[t]=e),e},t.prototype.get=function(t){var e=null!=t?this._transactions[t]:null;return null==e&&(e=new r.Transaction(t),null!=t&&(this._transactions[t]=e)),e},t}();angular.module("pipTransaction").service("pipTransaction",o)},{"./Transaction":9}],12:[function(t,e,n){"use strict";function r(t){"ngInject";var e=t.has("pipTranslateProvider")?t.get("pipTranslateProvider"):null;e&&(e.setTranslations("en",{ENTERING:"Entering...",PROCESSING:"Processing...",LOADING:"Loading...",SAVING:"Saving..."}),e.setTranslations("ru",{ENTERING:"Вход в систему...",PROCESSING:"Обрабатывается...",LOADING:"Загружается...",SAVING:"Сохраняется..."}))}r.$inject=["$injector"],Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipTransaction").config(r)},{}],13:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipTransaction",[]),t("./TransactionStrings"),t("./TransactionError"),t("./Transaction"),t("./TransactionService"),r(t("./TransactionError")),r(t("./Transaction"))},{"./Transaction":9,"./TransactionError":10,"./TransactionService":11,"./TransactionStrings":12}],14:[function(t,e,n){"use strict";function r(t){"ngInject";return{restrict:"EA",scope:{key1:"@pipTranslate",key2:"@key"},link:function(e,n,r){var o=e.key1||e.key2,i=t.translate(o);n.text(i)}}}function o(t){"ngInject";return{restrict:"EA",scope:{key1:"@pipTranslateHtml",key2:"@key"},link:function(e,n,r){var o=e.key1||e.key2,i=t.translate(o);n.html(i)}}}r.$inject=["pipTranslate"],o.$inject=["pipTranslate"],Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipTranslate").directive("pipTranslate",r).directive("pipTranslateHtml",o)},{}],15:[function(t,e,n){"use strict";function r(t){"ngInject";return function(e){return t.translate(e)||e}}function o(t){"ngInject";var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}r.$inject=["pipTranslate"],o.$inject=["$injector"],Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipTranslate").filter("translate",r)},{}],16:[function(t,e,n){"use strict";function r(t){t.language}r.$inject=["pipTranslate"];var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Translation"),s=t("../utilities/PageResetService");n.LanguageRootVar="$language",n.LanguageChangedEvent="pipLanguageChanged";var a=function(){function t(t,e,n,r,o,i,s){this._setRootVar=e,this._persist=n,this._translation=t,this._rootScope=r,this._log=o,this._window=i,this._mdDateLocale=s,this._persist&&this._window.localStorage&&(this._translation.language=this._window.localStorage.getItem("language")||this._translation.language),this._log.debug("Set language to "+this._translation.language),this.save()}return t.prototype.changeLocale=function(t){if(t){var e;moment.locale(t),e=moment.localeData(),this._mdDateLocale.months=angular.isArray(e._months)?e._months:e._months.format,this._mdDateLocale.shortMonths=angular.isArray(e._monthsShort)?e._monthsShort:e._monthsShort.format,this._mdDateLocale.days=angular.isArray(e._weekdays)?e._weekdays:e._weekdays.format,this._mdDateLocale.shortDays=e._weekdaysMin,this._mdDateLocale.firstDayOfWeek=e._week.dow}},t.prototype.save=function(){this._setRootVar&&(this._rootScope[n.LanguageRootVar]=this._translation.language),this._persist&&null!=this._window.localStorage&&this._window.localStorage.setItem("language",this._translation.language)},Object.defineProperty(t.prototype,"language",{get:function(){return this._translation.language},set:function(t){t!=this._translation.language&&(this._translation.language=t,this._log.debug("Changing language to "+t),this.changeLocale(this._translation.language),this.save(),this._rootScope.$emit(n.LanguageChangedEvent,t),this._rootScope.$emit(s.ResetPageEvent))},enumerable:!0,configurable:!0}),t.prototype.use=function(t){return null!=t&&(this.language=t),this.language},t.prototype.setTranslations=function(t,e){return this._translation.setTranslations(t,e)},t.prototype.translations=function(t,e){return this._translation.setTranslations(t,e)},t.prototype.translate=function(t){return this._translation.translate(t)},t.prototype.translateArray=function(t){return this._translation.translateArray(t)},t.prototype.translateSet=function(t,e,n){return this._translation.translateSet(t,e,n)},t.prototype.translateObjects=function(t,e,n){return this._translation.translateObjects(t,e,n)},t.prototype.translateWithPrefix=function(t,e){return this._translation.translateWithPrefix(t,e)},t.prototype.translateSetWithPrefix=function(t,e,n,r){return this._translation.translateSetWithPrefix(t,e,n,r)},t.prototype.translateSetWithPrefix2=function(t,e,n,r){return this._translation.translateSetWithPrefix2(t,e,n,r)},t}(),u=function(t){function e(){var e=t.call(this)||this;return e._setRootVar=!0,e._persist=!0,e}return o(e,t),Object.defineProperty(e.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"persist",{get:function(){return this._persist},set:function(t){this._persist=!!t},enumerable:!0,configurable:!0}),e.prototype.$get=["$rootScope","$log","$window","$mdDateLocale",function(t,e,n,r){"ngInject";return null==this._service&&(this._service=new a(this,this._setRootVar,this._persist,t,e,n,r)),this._service}],e}(i.Translation);angular.module("pipTranslate").provider("pipTranslate",u).run(r)},{"../utilities/PageResetService":21,"./Translation":17}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this._language="en",this._translations={en:{en:"English",ru:"Russian",es:"Spanish",pt:"Portuguese",de:"German",fr:"French"},ru:{en:"Английский",ru:"Русский",es:"Испанский",pt:"Португальский",de:"Немецкий",fr:"Французский"}}}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),t.prototype.use=function(t){return null!=t&&(this._language=t),this._language},t.prototype.setTranslations=function(t,e){var n=this._translations[t]||{};this._translations[t]=_.extend(n,e)},t.prototype.translations=function(t,e){this.setTranslations(t,e)},t.prototype.translate=function(t){if(_.isNull(t)||_.isUndefined(t))return"";var e=this._translations[this._language]||{};return e[t]||t},t.prototype.translateArray=function(t){if(_.isNull(t)||0==t.length)return[];var e=[],n=this._translations[this._language]||{};return _.each(t,function(t){var r=t||"";e.push(n[r]||r)}),e},t.prototype.translateSet=function(t,e,n){if(_.isNull(t)||0==t.length)return[];e=e||"id",n=n||"name";var r=[],o=this._translations[this._language]||{};return _.each(t,function(t){var i={};t=t||"",i[e]=t,i[n]=o[t]||t,r.push(i)}),r},t.prototype.translateObjects=function(t,e,n){if(_.isNull(t)||0==t.length)return[];e=e||"name",n=n||"nameLocal";var r=this._translations[this._language]||{};return _.each(t,function(t){var o=t[e]||"";t[n]=r[o]||o}),t},t.prototype.translateWithPrefix=function(t,e){if(t=t?t+"_":"",e=(t+e).replace(/ /g,"_").toUpperCase(),null==e)return"";var n=this._translations[this._language]||{};return n[e]||e},t.prototype.translateSetWithPrefix=function(t,e,n,r){if(_.isNull(e)||0==e.length)return[];t=t?t.replace(/ /g,"_").toUpperCase():"",n=n||"id",r=r||"name";var o=[],i=this._translations[this._language]||{};return _.each(e,function(e){var s={};e=e||"",s[n]=e,s[r]=i[t+"_"+e]||e,o.push(s)}),o},t.prototype.translateSetWithPrefix2=function(t,e,n,r){if(_.isNull(e)||0==e.length)return[];n=n||"id",r=r||"name",t=t?t.replace(/ /g,"_").toUpperCase()+"_":"";var o=[],i=this._translations[this._language]||{};return _.each(e,function(e){var s={};e=e||"",s[n]=e,s[r]=i[t+e.replace(/ /g,"_").toUpperCase()]||t+e.replace(/ /g,"_").toUpperCase(),o.push(s)}),o},t}();n.Translation=r},{}],18:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),angular.module("pipTranslate",[]),t("./Translation"),t("./TranslateService"),t("./TranslateFilter"),t("./TranslateDirective"),r(t("./Translation")),r(t("./TranslateService"))},{"./TranslateDirective":14,"./TranslateFilter":15,"./TranslateService":16,"./Translation":17}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.hash=function(t){if(null==t)return 0;for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);return e},t.prototype.verification=function(){return Math.random().toString(36).substr(2,10).toUpperCase()},t}();angular.module("pipCodes",[]).service("pipCodes",r)},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.cache={}}return t.prototype.sample=function(t,e){if(!t||""==t)return"";var n=t.indexOf("\n");return n=n>=0?n:t.length,n=n<e?t.length:e,t.substring(0,n)},t.prototype.strRepeat=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n},t.prototype.getType=function(t){return toString.call(t).slice(8,-1).toLowerCase()},t.prototype.parseFormat=function(t){for(var e=t,n=[],r=[],o=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("Unknown error");if(n[2]){o|=1;var i=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("Unknown error");for(i.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw new Error("Unknown error");i.push(a[1])}n[2]=i}else o|=2;if(3===o)throw new Error("Mixing positional and named placeholders is not (yet) supported");r.push(n)}e=e.substring(n[0].length)}return r},t.prototype.format=function(t,e){for(var n=0,r=t.length,o=[],i=0;i<r;i++){var s=this.getType(t[i]);if("string"===s)o.push(t[i]);else if("array"===s){var a=t[i],u=void 0;if(a[2]){u=e[n];for(var c=0;c<a[2].length;c++){if(!u.hasOwnProperty(a[2][c]))throw new Error(this.sprintf('Property "%s" does not exist',a[2][c]));u=u[a[2][c]]}}else u=a[1]?e[a[1]]:e[n++];if(/[^s]/.test(a[8])&&"number"!=this.getType(u))throw new Error(this.sprintf("Expecting number but found %s",this.getType(u)));switch(a[8]){case"b":u=u.toString(2);break;case"c":u=String.fromCharCode(u);break;case"d":u=parseInt(u,10);break;case"e":u=a[7]?u.toExponential(a[7]):u.toExponential();break;case"f":u=a[7]?parseFloat(u).toFixed(a[7]):parseFloat(u);break;case"o":u=u.toString(8);break;case"s":u=(u=String(u))&&a[7]?u.substring(0,a[7]):u;break;case"u":u=Math.abs(u);break;case"x":u=u.toString(16);break;case"X":u=u.toString(16).toUpperCase()}u=/[def]/.test(a[8])&&a[3]&&u>=0?"+"+u:u;var l=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",p=a[6]-String(u).length,f=a[6]?this.strRepeat(l,p):"";o.push(a[5]?u+f:f+u)}}return o.join("")},t.prototype.sprintf=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.cache.hasOwnProperty(t)||(this.cache[t]=this.parseFormat(t)),this.format(this.cache[t],e)},t}();angular.module("pipFormat",[]).service("pipFormat",r)},{}],21:[function(t,e,n){"use strict";function r(t,e){t.$on(n.ResetPageEvent,function(){e.reset()}),t.$on(n.ResetAreaEvent,function(t,n){e.resetArea(n)})}r.$inject=["$rootScope","pipPageReset"],Object.defineProperty(n,"__esModule",{value:!0}),n.ResetPageEvent="pipResetPage",n.ResetAreaEvent="pipResetArea",n.ResetRootVar="$reset",n.ResetAreaRootVar="$resetArea";var o=function(){function t(t,e,r){this._rootScope=t,this._log=e,this._timeout=r,t[n.ResetRootVar]=!1,t[n.ResetAreaRootVar]=null}return t.$inject=["$rootScope","$log","$timeout"],t.prototype.reset=function(){this._log.debug("Resetting the entire page"),this.performReset(null)},t.prototype.resetArea=function(t){this._log.debug("Resetting the area "+t),this.performReset(t)},t.prototype.performReset=function(t){var e=this;this._rootScope[n.ResetRootVar]=null==t,this._rootScope[n.ResetAreaRootVar]=t,this._timeout(function(){e._rootScope[n.ResetRootVar]=!1,e._rootScope[n.ResetAreaRootVar]=null},0)},t}();angular.module("pipPageReset",[]).service("pipPageReset",o).run(r)},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.scrollTo=function(t,e,n){t&&e&&(void 0==n&&(n=300),setTimeout(function(){if($(e).position()){var r=Math.abs($(t).scrollTop()-$(e).position().top);if(!(r<20)){var o=$(t).scrollTop()+($(e).position().top-20);n>0&&$(t).animate({scrollTop:o+"px"},n)}}},100))},t}();angular.module("pipScroll",[]).service("pipScroll",r)},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t){"ngInject";this._window=t}return t.$inject=["$window"],Object.defineProperty(t.prototype,"browserName",{get:function(){var t=this._window.navigator.userAgent;return t.search(/Edge/)>-1?"edge":t.search(/MSIE/)>-1?"ie":t.search(/Trident/)>-1?"ie":t.search(/Firefox/)>-1?"firefox":t.search(/Opera/)>-1?"opera":t.search(/OPR/)>-1?"opera":t.search(/YaBrowser/)>-1?"yabrowser":t.search(/Chrome/)>-1?"chrome":t.search(/Safari/)>-1?"safari":t.search(/Maxthon/)>-1?"maxthon":"unknown"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"browserVersion",{get:function(){var t,e=this._window.navigator.userAgent,n=this.browserName;switch(n){case"edge":t=e.split("Edge")[1].split("/")[1];break;case"ie":t=e.split("MSIE ")[1].split(";")[0];break;case"ie11":n="ie",t=e.split("; rv:")[1].split(")")[0];break;case"firefox":t=e.split("Firefox/")[1];break;case"opera":t=e.split("Version/")[1];break;case"operaWebkit":t=e.split("OPR/")[1];break;case"yabrowser":t=e.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":t=e.split("Chrome/")[1].split(" ")[0];break;case"safari":t=e.split("Version/")[1].split(" ")[0];break;case"maxthon":t=e.split("Maxthon/")[1]}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){var t=this._window.navigator.userAgent;return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(t.toLowerCase())?"mobile":"desktop"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"os",{get:function(){var t=this._window.navigator.userAgent;try{var e=(/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(t.toLowerCase())||[t])[0].replace("sunos","solaris"),n=/(android)/.exec(t.toLowerCase())||"";return!n||"android"!=n&&"android"!=n[0]?e:"android"}catch(t){return"unknown"}},enumerable:!0,configurable:!0}),t.prototype.isDesktop=function(){return"desktop"==this.platform},t.prototype.isMobile=function(){return"mobile"==this.platform},t.prototype.isCordova=function(){return!1},t.prototype.isSupported=function(t){t||(t={edge:11,ie:11,firefox:43,opera:35,chrome:47});var e=this.browserName,n=this.browserVersion;return n=n.split(".")[0],e&&t[e]&&n>=t[e],!0},t}();angular.module("pipSystemInfo",[]).service("pipSystemInfo",r)},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.normalizeOne=function(t){return t?_.trim(t.replace(/(_|#)+/g," ")):null},t.prototype.compressOne=function(t){return t?t.replace(/( |_|#)/g,"").toLowerCase():null},t.prototype.equal=function(t,e){return null==t&&null==e||null!=t&&null!=e&&this.compressOne(t)==this.compressOne(e)},t.prototype.normalizeAll=function(t){var e=this;return _.isString(t)&&(t=t.split(/( |,|;)+/)),t=_.map(t,function(t){return e.normalizeOne(t)})},t.prototype.compressAll=function(t){var e=this;return _.isString(t)&&(t=t.split(/( |,|;)+/)),t=_.map(t,function(t){return e.compressOne(t)})},t.prototype.extract=function(t,e){var n=this,r=this.normalizeAll(t.tags);return _.each(e,function(e){var o=t[e]||"";if(""!=o){var i=o.match(/#\w+/g);r=r.concat(n.normalizeAll(i))}}),_.uniq(r)},t}();angular.module("pipTags",[]).service("pipTags",r)},{}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){this.event=t,this.timeout=e}return t}(),o=[new r("pipAutoPullChanges",6e4),new r("pipAutoUpdatePage",15e3),new r("pipAutoUpdateCollection",3e5)],i=function(){function t(t,e,n){"ngInject";this._started=!1,this._events=_.cloneDeep(o),this._rootScope=t,this._log=e,this._interval=n}return t.$inject=["$rootScope","$log","$interval"],t.prototype.isStarted=function(){return this._started},t.prototype.addEvent=function(t,e){var n=_.find(this._events,function(e){return e.event==t});if(null==n){var r={event:t,timeout:e};this._events.push(r),this._started&&this.startEvent(r)}},t.prototype.removeEvent=function(t){for(var e=this._events.length-1;e>=0;e--){var n=this._events[e];n.event==t&&(this.stopEvent(n),this._events.splice(e,1))}},t.prototype.clearEvents=function(){this.stop(),this._events=[]},t.prototype.startEvent=function(t){var e=this;t.interval=this._interval(function(){e._log.debug("Generated timer event "+t.event),e._rootScope.$emit(t.event)},t.timeout)},t.prototype.stopEvent=function(t){if(null!=t.interval){try{this._interval.cancel(t.interval)}catch(t){}t.interval=null}},t.prototype.start=function(){var t=this;this._started||(_.each(this._events,function(e){t.startEvent(e)}),this._started=!0)},t.prototype.stop=function(){var t=this;_.each(this._events,function(e){t.stopEvent(e)}),this._started=!1},t}();angular.module("pipTimer",[]).service("pipTimer",i)},{}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t("./Format"),t("./TimerService"),t("./ScrollService"),t("./Tags"),t("./Codes"),t("./SystemInfo"),t("./PageResetService")},{"./Codes":19,"./Format":20,"./PageResetService":21,"./ScrollService":22,"./SystemInfo":23,"./Tags":24,"./TimerService":25}]},{},[1])(1)});
//# sourceMappingURL=pip-webui-services.min.js.map
